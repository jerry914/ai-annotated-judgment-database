{"version":3,"file":"js/app.d345ca02.js","mappings":"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","sources":["webpack://ai-annotated-judgment-database/./src/App.vue","webpack://ai-annotated-judgment-database/./src/components/footer.vue","webpack://ai-annotated-judgment-database/./src/components/footer.vue?1818","webpack://ai-annotated-judgment-database/./src/App.vue?7ccd","webpack://ai-annotated-judgment-database/./src/views/ChatView.vue","webpack://ai-annotated-judgment-database/./src/utils/pdfMake.js","webpack://ai-annotated-judgment-database/./src/views/ChatView.vue?fcb5","webpack://ai-annotated-judgment-database/./src/views/SearchView.vue","webpack://ai-annotated-judgment-database/./src/views/SearchView.vue?f97a","webpack://ai-annotated-judgment-database/./src/views/SearchResult.vue","webpack://ai-annotated-judgment-database/./src/views/SearchResult.vue?109d","webpack://ai-annotated-judgment-database/./src/views/AboutPage.vue","webpack://ai-annotated-judgment-database/./src/views/AboutPage.vue?e075","webpack://ai-annotated-judgment-database/./src/views/MemberPage.vue","webpack://ai-annotated-judgment-database/./src/views/MemberPage.vue?a3a5","webpack://ai-annotated-judgment-database/./src/router/index.js","webpack://ai-annotated-judgment-database/./src/store/index.js","webpack://ai-annotated-judgment-database/./src/main.js","webpack://ai-annotated-judgment-database/webpack/bootstrap","webpack://ai-annotated-judgment-database/webpack/runtime/chunk loaded","webpack://ai-annotated-judgment-database/webpack/runtime/compat get default export","webpack://ai-annotated-judgment-database/webpack/runtime/create fake namespace object","webpack://ai-annotated-judgment-database/webpack/runtime/define property getters","webpack://ai-annotated-judgment-database/webpack/runtime/ensure chunk","webpack://ai-annotated-judgment-database/webpack/runtime/get javascript chunk filename","webpack://ai-annotated-judgment-database/webpack/runtime/get mini-css chunk filename","webpack://ai-annotated-judgment-database/webpack/runtime/global","webpack://ai-annotated-judgment-database/webpack/runtime/hasOwnProperty shorthand","webpack://ai-annotated-judgment-database/webpack/runtime/load script","webpack://ai-annotated-judgment-database/webpack/runtime/make namespace object","webpack://ai-annotated-judgment-database/webpack/runtime/publicPath","webpack://ai-annotated-judgment-database/webpack/runtime/jsonp chunk loading","webpack://ai-annotated-judgment-database/webpack/startup"],"sourcesContent":["<template>\n  <div class=\"main-container\">\n    <div class=\"jump-bar\" :style=\"backgroundStyle\"></div>\n    <div class=\"menu-bar\">\n      <ul class=\"menu\">\n        <li class=\"tab\" :class=\"$route.path=='/'?'active tab':''\"><router-link to=\"/\">首頁與AI助手</router-link></li>\n        <li class=\"tab\" :class=\"$route.path=='/search'?'active':''\"><router-link to=\"/search\">檢索平台</router-link></li>\n        <li class=\"tab\" :class=\"$route.path=='/about'?'active':''\"><router-link to=\"/about\">\n          <template v-if=\"windowWidth < 400\">\n            使用說明\n          </template>\n          <template v-else>使用說明與技術簡介</template>\n        </router-link></li>\n        <li class=\"tab\" :class=\"$route.path=='/members'?'active':''\"><router-link to=\"/members\">開發團隊</router-link></li>\n      </ul>\n    </div>\n\n    <router-view/>\n  </div>\n  <my-footer></my-footer>\n  <!-- <div class=\"mt-2 text-center\" style=\"z-index:-1;\">©copyright Artificial Intelligence for Fundamental Research (AIFR) Group</div> -->\n</template>\n\n<script>\nimport myFooter from './components/footer';\nexport default {\n  components: {\n    myFooter\n  },\n  data() {\n    return {\n      page_name: \"搜尋頁面\",\n      windowWidth: window.innerWidth\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      window.addEventListener('resize', this.onResize);\n    })\n  },\n  beforeUnmount() { \n    window.removeEventListener('resize', this.onResize); \n  },\n  computed: {\n    backgroundStyle() {\n      // const imagePath = require('@/assets/裁判觀點檢索平台.png');\n      // const imagePath = require('@/assets/裁判觀點檢索平台2.png');\n      const imagePath = require('@/assets/banner.png');\n      return {\n        backgroundImage: `url(${imagePath})`\n      };\n    }\n  },\n  methods: {\n    onResize() {\n      this.windowWidth = window.innerWidth\n    }\n  } \n}\n</script>\n<style>\nbody {\n  background-color: #ffffff !important;\n}\n#app {\n  font-family: \"Noto Sans TC\", sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #0b0b0b;\n}\n.page-title {\n  text-align: center;\n  margin: 30px;\n}\n.intro-title {\n  font-size: 1.75rem;\n  font-weight: 500;\n  line-height: 2rem;\n  margin: 40px 0 20px 0;\n}\nnav {\n  margin: 25px;\n  padding: 10px;\n  cursor: default;\n  background-color: #ffcd29;\n  border: 1px #cca421 solid;\n  border-radius: 8px;\n}\n\nnav a {\n  font-weight: bold;\n}\n.page-container {\n  margin: 20px 0 40px 0;\n}\n.back-btn {\n  float: left;\n  border: #b6a3cc 1px solid;\n  background-color: #e4ccff;\n  padding: 10px 20px;\n  transform: translate(-13px, -11px);\n  border-radius: 8px;\n}\n.back-btn a {\n  text-decoration: none !important;\n  color: #000;\n  font-weight: 400 !important;\n}\n.main-container {\n  min-height: calc( 100vh - 100px );\n}\n.jump-bar {\n  height: 120px;\n  background-color: #000;\n  background-size: 960px 140px;\n  background-position: 50% -20px;\n  background-repeat: no-repeat;\n}\n\n@media (max-width: 920px) {\n  .jump-bar {\n    background-size: contain;\n    background-position: center;\n    height: 80px;\n  }\n}\n\n.menu-bar {\n  background-color: #e9eef7; /* Light blue background */\n  display: flex;\n  justify-content: center; /* Center menu items horizontally */\n  padding: 10px 0; /* Padding on top and bottom */\n}\n\n.menu {\n  list-style-type: none;\n  display: flex;\n  margin: 0;\n  padding: 0;\n  width: 580px;\n}\n\n.menu .tab {\n  flex-grow: 1;\n  text-align: center;\n}\n\n.menu .tab a {\n  display: block;\n  padding: 5px 20px;\n  text-decoration: none;\n  color: #333;\n  background-color: #e9eef7;\n  border-radius: 5px; /* Optional: rounded corners */\n  transition: background-color 0.3s; /* Smooth transition for hover effect */\n  text-decoration: none !important;\n  width: fit-content;\n}\n\n.menu .tab a:hover {\n  background-color: #d1d8e8; /* Lighter blue on hover */\n}\n\n.active a {\n  background-color: #cad2e0 !important; /* Active tab color */\n}\n\n/* RWD: Stacking tabs for smaller screens */\n@media (max-width: 768px) {\n  .menu .tab {\n    flex-basis: 100%; /* Each tab takes full width */\n    margin-bottom: 5px; /* Add space between stacked tabs */\n    width: 100%;\n  }\n  .menu .tab a {\n    padding: 5px 10px;\n    width: 100%;\n  }\n}\n\n</style>\n","<template>\n  <footer class=\"footer\">\n    <div class=\"container\">\n      <span>\n        <div>聯絡我們：aifr.general@gmail.com</div>\n        <div>意見回饋：<a href=\"https://shorturl.at/W9rDw\" target=\"_blank\">https://shorturl.at/W9rDw</a></div>\n      </span>\n      \n      <span style=\"max-width: 550px;\">©copyright Artificial Intelligence for Fundamental Research (AIFR) Group</span>\n      <div class=\"icon-container\">\n        <img src=\"@/assets/logo_nthu.png\" width=\"200\" height=\"40\" class=\"d-inline-block align-top\" style=\"margin: 0 5px\" alt=\"\" loading=\"lazy\" />\n        <img src=\"@/assets/icon.png\" width=\"80\" height=\"45\" class=\"d-inline-block align-top\" style=\"margin: 0 5px\" alt=\"\" loading=\"lazy\" />\n      </div>\n    </div>\n  </footer>\n</template>\n<script>\nexport default {\n  name: 'my-footer',\n  data() {\n    return {\n      backend: [],\n      isLoading: false,\n      errorPrompt: false,\n      errorCode: '',\n    };\n  },\n  props: {\n  },\n  methods: {\n\n  },\n};\n</script>\n<style scoped>\n.footer {\n  margin-top: 20px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-evenly;\n  padding: 10px;\n  background-color: #f5f5f5;\n  z-index: 1000; \n}\n\n.container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n  width: 100%;\n}\n\n.container > span, .container > div {\n  margin: 5px 20px;\n  vertical-align: middle;\n  /* max-width: 0px; */\n}\n\n.d-inline-block {\n  display: inline-block;\n}\n\n.align-top {\n  vertical-align: top;\n}\n.icon-container {\n  display: flex;\n  justify-content: space-around;\n}\n</style>","import { render } from \"./footer.vue?vue&type=template&id=3ff789a0&scoped=true\"\nimport script from \"./footer.vue?vue&type=script&lang=js\"\nexport * from \"./footer.vue?vue&type=script&lang=js\"\n\nimport \"./footer.vue?vue&type=style&index=0&id=3ff789a0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3ff789a0\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=4164e636\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=4164e636&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"chat-container\">\n    <div class=\"split-container\" ref=\"splitContainer\">\n      <!-- Left: Chat Section -->\n      <div class=\"chat-panel\" :style=\"{ width: chatWidth + '%' }\">\n        <div class=\"chat-header\">\n          <h4>AI裁判書助手</h4>\n          <div class=\"chat-toolbar\">\n            <el-tooltip content=\"重新開始對話\" placement=\"bottom\">\n              <button class=\"icon-btn\" @click=\"restartChat\">\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19 13.5C19 17.6421 15.6421 21 11.5 21C7.35786 21 4 17.6421 4 13.5C4 9.35786 7.35786 6 11.5 6H20M20 6L17 3M20 6L17 9\" stroke=\"#fff\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"/></svg>\n              </button>\n            </el-tooltip>\n            <el-tooltip content=\"顯示/隱藏說明\" placement=\"bottom\">\n              <button class=\"icon-btn\" @click=\"toggleIntro\">\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"#fff\" stroke-width=\"2\" fill=\"none\"/><text x=\"12\" y=\"17\" text-anchor=\"middle\" font-size=\"14\" fill=\"#fff\">i</text></svg>\n              </button>\n            </el-tooltip>\n            <el-tooltip content=\"下載對話紀錄 PDF\" placement=\"bottom\">\n              <button class=\"icon-btn\" @click=\"downloadChatHistory\">\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 3v12m0 0l-4-4m4 4l4-4\" stroke=\"#fff\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/><rect x=\"4\" y=\"17\" width=\"16\" height=\"4\" rx=\"2\" fill=\"#fff\"/></svg>\n              </button>\n            </el-tooltip>\n          </div>\n        </div>\n        <div class=\"chat-interface\">\n          <div class=\"conversation-container\" ref=\"conversationContainer\">\n            <div \n              v-for=\"(message, index) in conversation\" \n              :key=\"index\" \n              :class=\"['message', message.type]\"\n            >\n              <div class=\"message-content\">\n                <div class=\"message-text markdown-content\" v-html=\"formatMessage(message.content)\"></div>\n                \n                <!-- Keywords Options (Checkboxes) -->\n                <div v-if=\"message.options && message.options.option_type === 'keywords_options'\" class=\"message-options\">\n                  <div class=\"keywords-container\">\n                    <div class=\"keywords-list\">\n                      <label \n                        v-for=\"button in message.options.buttons\" \n                        :key=\"button.value\"\n                        class=\"keyword-checkbox\"\n                        :class=\"{ selected: selectedKeywords.includes(button.value) }\"\n                      >\n                        <input \n                          type=\"checkbox\" \n                          :value=\"button.value\"\n                          v-model=\"selectedKeywords\"\n                        >\n                        <div class=\"custom-checkbox\"></div>\n                        <span class=\"checkbox-label\">{{ button.label }}</span>\n                      </label>\n                    </div>\n                    \n                    <!-- Custom Keyword Input -->\n                    <input \n                          v-model=\"customKeyword\"\n                          placeholder=\"(若需要請補充其他關鍵字，以逗號分隔)\"\n                          class=\"keyword-input\"\n                          ref=\"customKeywordInput\"\n                    />\n                    <div style=\"height: 16px;\"></div>\n                    <!-- Action Buttons -->\n                    <div class=\"keywords-actions\">\n                      <button @click=\"confirmKeywords\" class=\"confirm-button\" :disabled=\"selectedKeywords.length === 0\">\n                        已確認\n                      </button>\n                    </div>\n                  </div>\n                </div>\n                \n                <!-- Regular Options (Buttons) -->\n                <div v-else-if=\"message.options && message.options.buttons\" class=\"message-options\">\n                  <!-- Session download button: only show for last bot message in a session -->\n                  <div style=\"width: 100%;\" v-if=\"isLastBotMessageInSession(index)\">\n                      <button\n                        class=\"option-button\"\n                        style=\"margin-bottom: 8px; border: 1px solid #ea7a66; background: #ea7a66; color: white;\"\n                        @click=\"downloadSession(getSessionIndexByMessage(index))\"\n                      >\n                      下載此次紀錄\n                    </button>\n                  </div>\n                  <button \n                    v-for=\"button in message.options.buttons\" \n                    :key=\"button.value\"\n                    @click=\"handleOptionClick(button.value)\"\n                    class=\"option-button\"\n                    :disabled=\"loading\"\n                  >\n                    {{ button.label }}\n                  </button>\n                </div>\n              </div>\n            </div>\n            \n            <div v-if=\"loading\" class=\"message bot\">\n              <div class=\"message-content\">\n                <div class=\"loading-indicator\">\n                  <div class=\"loading-dots\">\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                  </div>\n                  <p>AI 正在思考中...</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"input-area\">\n            <div class=\"input-container\">\n              <textarea \n                v-model=\"userInput\" \n                @keydown.enter.prevent=\"sendMessage\"\n                placeholder=\"請輸入您的問題...\"\n                class=\"message-input\"\n                :disabled=\"loading\"\n                rows=\"1\"\n              ></textarea>\n              <button \n                @click=\"sendMessage\" \n                class=\"send-button\"\n                :disabled=\"loading || !userInput.trim()\"\n              >\n                <span v-if=\"!loading\">發送</span>\n                <span v-else>發送中...</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- Splitter -->\n      <div class=\"splitter\" @mousedown=\"startDrag\"></div>\n      <!-- Right: Introduction + Table -->\n      <div class=\"info-table-panel\" :style=\"{ width: (100 - chatWidth) + '%' }\">\n        <div v-show=\"showIntro\" class=\"introduction-panel\">\n          <p>\n            本系統是國立清華大學人文社會AI應用與發展研究中心為執行AI公共化相關計畫之成果展示，以司法院所公開的民刑事案件判決書為訓練資料，讓生成式AI模型自動標註出與該案件有關的文字。可以用對話方式或關鍵字搜尋進行檢索或見解討論。免費對外開放，提供法學研究者、司法實務工作者或一般民眾使用。<br><br>\n            目前AI裁判書助手1.0版，主要功能有兩個: <br>\n            (1) 事實搜尋：根據使用者輸入的案件事實描述，透過AI語意理解與關鍵字的搭配，精確的搜尋出裁判書資料庫中的類似案件；<br>\n            (2) 見解討論：根據使用者輸入的法學見解，從裁判書資料庫中找尋類似或不同角度的見解，並可針對其內容作進一步討論。<br><br>\n            目前的裁判書資料庫先以106-110年度的刑事案件為主，未來將更新案件年度並擴展到民事案件。\n          </p>\n        </div>\n        <div v-if=\"currentDataTable && currentDataTable.length > 0\" class=\"data-table-container\">\n          <div class=\"table-header\">\n            <h3>相關判決書搜尋結果</h3>\n            <div class=\"index-buttons\" style=\"margin: 8px 0; display: flex; flex-wrap: wrap; gap: 6px;\">\n              <template v-for=\"(btn, btnIdx) in getVisibleIndexButtons(currentIndexBtn, currentDataTable.length)\" :key=\"'index-btn-' + btn + '-' + btnIdx\">\n                <button\n                  v-if=\"btn !== 'ellipsis1' && btn !== 'ellipsis2'\"\n                  @click=\"scrollToRow(btn)\"\n                  class=\"index-btn\"\n                  :style=\"{ minWidth: '32px', height: '32px', borderRadius: '50%', border: '1px solid #667eea', background: '#fff', color: '#667eea', fontWeight: 'bold', cursor: 'pointer', outline: 'none', boxShadow: '0 1px 2px rgba(102,126,234,0.08)' }\"\n                  :class=\"{ active: currentIndexBtn === btn }\"\n                >\n                  {{ btn + 1 }}\n                </button>\n                <span v-else class=\"index-ellipsis\">…</span>\n              </template>\n            </div>\n          </div>\n          <div class=\"table-wrapper\">\n            <table class=\"data-table\">\n              <tbody>\n                <tr v-for=\"(item, index) in currentDataTable\" :key=\"index\" :ref=\"'tableRow' + index\">\n                  <td class=\"case-cell\">\n                      <span class=\"case-cell-index\">編號{{ index + 1 }} 案號：</span>\n                      <span class=\"case-cell-content\" v-html=\"item['案號']\"></span>\n                      <div class=\"case-cell-content-wrapper\">\n                          <div>【{{ selectedCategory }}內容】</div>\n                          <div v-if=\"item[selectedCategory]\">\n                            <div\n                              :ref=\"'truncatedContent' + index\"\n                              class=\"truncate-3-lines\"\n                              v-html=\"formatTableContent(item[selectedCategory])\"\n                            ></div>\n                            <a\n                              v-if=\"truncatedStates[index]\"\n                              href=\"#\"\n                              @click.prevent=\"openContentModal(item[selectedCategory])\"\n                              style=\"color: #667eea; cursor: pointer;\"\n                            >顯示全部</a>\n                          </div>\n                          <div v-else class=\"no-data\">無{{ selectedCategory }}</div>\n                      </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- Modal for full content -->\n  <div v-if=\"showContentModal\" class=\"modal-overlay\" @click.self=\"closeContentModal\">\n    <div class=\"modal-content\">\n      <button class=\"modal-close\" @click=\"closeContentModal\">關閉</button>\n      <div v-html=\"formatTableContent(modalContent)\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { marked } from 'marked';\nimport { createAndOpenChatHistoryPdf } from '@/utils/pdfMake';\nimport { ElTooltip } from 'element-plus';\n\nconst API_BASE_URL = 'https://uniformly-neutral-skunk.ngrok-free.app';\n// const API_BASE_URL = 'https://hssai-verdictdb.phys.nthu.edu.tw';\n\nexport default {\n  name: 'ChatView',\n  components: { ElTooltip },\n  data() {\n    return {\n      conversation: [],\n      userInput: '',\n      loading: false,\n      sessionId: null,\n      currentDataTable: null,\n      selectedKeywords: [],\n      customKeyword: '',\n      showCustomInput: false,\n      currentKeywordsOptions: null,\n      selectedCategory: null,\n      showIntro: true,\n      chatWidth: 50, // percent\n      dragging: false,\n      dragStartX: 0,\n      dragStartWidth: 50,\n      chatSessions: [{ messages: [], dataTable: null, category: null }], // Track all chat sessions, each is an object with messages and dataTable\n      showContentModal: false, // Modal state for full content\n      modalContent: '', // Content to show in modal\n      truncatedStates: {}, // Track which rows are visually truncated\n      currentIndexBtn: 0, // Track the current selected index for index-buttons\n    }\n  },\n  mounted() {\n    this.initializeSession();\n    this.addWelcomeMessage();\n    window.addEventListener('mousemove', this.onDrag);\n    window.addEventListener('mouseup', this.stopDrag);\n  },\n  beforeUnmount() {\n    window.removeEventListener('mousemove', this.onDrag);\n    window.removeEventListener('mouseup', this.stopDrag);\n  },\n  updated() {\n    this.scrollToBottom();\n  },\n  watch: {\n    conversation() {\n      this.$nextTick(() => {\n        this.scrollToBottom();\n      });\n    },\n    currentDataTable(newVal) {\n      if (Array.isArray(newVal)) {\n        this.$nextTick(() => {\n          newVal.forEach((item, idx) => {\n            this.checkTruncation(idx);\n          });\n        });\n      }\n    }\n  },\n  methods: {\n    async initializeSession() {\n      try {\n        const response = await fetch(`${API_BASE_URL}/init_session`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        \n        if (response.ok) {\n          const data = await response.json();\n          this.sessionId = data.session_id;\n        } else {\n          console.error('Failed to initialize session');\n        }\n      } catch (error) {\n        console.error('Error initializing session:', error);\n      }\n    },\n\n    addWelcomeMessage() {\n      let welcomeMsg = {\n        type: 'bot',\n        content: `您好，我是您的AI裁判書助手，可以透過自然語言的連續互動，協助您快速的解決關於法院裁判書內容的問題。<br>目前我有「類案事實搜尋」與「法院見解分析」兩大功能，請點擊以下的選項來開啟我們的討論吧！`,\n        options: {\n          option_type: 'category_options',\n          buttons: [\n            { value: '事實搜尋', label: '類案事實搜尋' },\n            { value: '見解討論', label: '法院見解分析' }\n          ]\n        }\n      };\n      this.conversation.push(welcomeMsg);\n      welcomeMsg.content = welcomeMsg.content.replace('<br>','');\n      this.chatSessions[this.chatSessions.length - 1].messages.push(welcomeMsg);\n      // Do not set category here, only after user selects\n    },\n\n    async sendMessage() {\n      if (!this.userInput.trim() || this.loading) return;\n      const userMessage = this.userInput.trim();\n      const userMsgObj = {\n        type: 'user',\n        content: userMessage\n      };\n      this.conversation.push(userMsgObj);\n      this.chatSessions[this.chatSessions.length - 1].messages.push(userMsgObj);\n      this.userInput = '';\n      this.loading = true;\n      try {\n        await this.callChatAPI(userMessage);\n      } catch (error) {\n        console.error('Error sending message:', error);\n        const errorMsg = {\n          type: 'bot',\n          content: '抱歉，發生錯誤，請稍後再試。'\n        };\n        this.conversation.push(errorMsg);\n        this.chatSessions[this.chatSessions.length - 1].messages.push(errorMsg);\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    async callChatAPI(message) {\n      const headers = { \n        'Content-Type': 'application/json'\n      };\n      \n      if (this.sessionId) {\n        headers['X-Session-ID'] = this.sessionId;\n      }\n      \n      const response = await fetch(`${API_BASE_URL}/chat_state`, {\n        method: 'POST',\n        headers: headers,\n        body: JSON.stringify({ text: message })\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.detail || '請求失敗');\n      }\n\n      // Handle streaming response\n      const reader = response.body.getReader();\n      const decoder = new TextDecoder('utf-8');\n      let buffer = '';\n      let currentMessage = null;\n      let accumulatedContent = '';\n\n      let reading = true;\n      let isChatEnd = false;\n      while (reading) {\n        const { done, value } = await reader.read();\n        if (done) {\n          reading = false;\n          break;\n        }\n\n        buffer += decoder.decode(value, { stream: true });\n        \n        // Process complete JSON lines\n        const lines = buffer.split('\\n');\n        buffer = lines.pop() || ''; // Keep incomplete line\n\n        for (const line of lines) {\n          if (!line.trim()) continue;\n\n          try {\n            const data = JSON.parse(line);\n            \n            if (data.content) {\n              // If it's a new response (check if it contains options or is a new conversation)\n              if (!currentMessage || (data.options && data.options.buttons && data.options.buttons.length > 0)) {\n                // Save previous message if exists\n                if (currentMessage && accumulatedContent) {\n                  currentMessage.content = accumulatedContent;\n                }\n                \n                // Create new message\n                currentMessage = {\n                  type: 'bot',\n                  content: data.content,\n                  options: data.options,\n                  is_chat_end: data.is_chat_end // Store is_chat_end on the message\n                };\n                this.conversation.push(currentMessage);\n                this.chatSessions[this.chatSessions.length - 1].messages.push(currentMessage);\n                accumulatedContent = data.content;\n              } else {\n                // Accumulate content\n                accumulatedContent += data.content;\n                currentMessage.content = accumulatedContent;\n              }\n            }\n\n            if (data.options && data.options.buttons && data.options.buttons.length > 0) {\n              currentMessage.options = data.options;\n              // Handle keywords options\n              if (data.options.option_type === 'keywords_options') {\n                this.selectedKeywords = data.options.buttons.map(b => b.value); // select all by default\n                this.currentKeywordsOptions = data.options;\n              }\n            }\n\n            if (data.data_table?.length > 0) {\n              this.currentDataTable = data.data_table;\n              this.showIntro = false;\n            }\n            // Handle is_chat_end\n            if (typeof data.is_chat_end !== 'undefined') {\n              isChatEnd = data.is_chat_end;\n              if (isChatEnd) {\n                // Push current conversation as a session and start a new one\n                if (this.conversation.length > 0) {\n                  // Only push if not already pushed\n                  if (this.chatSessions[this.chatSessions.length - 1].messages.length > 0) {\n                    // Save currentDataTable and category to session\n                    this.chatSessions[this.chatSessions.length - 1].dataTable = this.currentDataTable;\n                    this.chatSessions[this.chatSessions.length - 1].category = this.selectedCategory;\n                    // Start a new session object\n                    this.chatSessions.push({ messages: [], dataTable: null, category: null });\n                  }\n                }\n              }\n            }\n          } catch (e) {\n            console.error('Error parsing JSON line:', line, e);\n          }\n        }\n      }\n\n      // Handle remaining buffer\n      if (buffer.trim()) {\n        try {\n          const data = JSON.parse(buffer);\n          if (data.content && currentMessage) {\n            accumulatedContent += data.content;\n            currentMessage.content = accumulatedContent;\n          }\n          // Handle is_chat_end in last buffer\n          if (typeof data.is_chat_end !== 'undefined') {\n            isChatEnd = data.is_chat_end;\n            if (isChatEnd) {\n              if (this.conversation.length > 0) {\n                if (this.chatSessions[this.chatSessions.length - 1].messages.length > 0) {\n                  this.chatSessions[this.chatSessions.length - 1].dataTable = this.currentDataTable;\n                  this.chatSessions[this.chatSessions.length - 1].category = this.selectedCategory;\n                  this.chatSessions.push({ messages: [], dataTable: null, category: null });\n                }\n              }\n              // this.currentDataTable = null;\n              this.selectedCategory = null;\n            }\n          }\n        } catch (e) {\n          console.error('Error parsing final buffer:', e);\n        }\n      }\n    },\n\n    handleOptionClick(value) {\n      // Set selectedCategory based on the button value\n      let selectedInput = '';\n      if (value === '事實搜尋' || value === '我要作類案事實搜尋') {\n        this.selectedCategory = '事實';\n        selectedInput = '我要作類案事實搜尋'\n        // clear currentDataTable\n        // this.currentDataTable = null;\n        // Set category for current session\n        this.chatSessions[this.chatSessions.length - 1].category = '事實';\n      } else if (value === '見解討論' || value === '我要作法院見解分析') {\n        this.selectedCategory = '見解';\n        selectedInput = '我要作法院見解分析'\n        // clear currentDataTable\n        // this.currentDataTable = null;\n        // Set category for current session\n        this.chatSessions[this.chatSessions.length - 1].category = '見解';\n      }\n      else {\n        selectedInput = value;\n      }\n      \n      this.userInput = selectedInput;\n      this.sendMessage();\n    },\n\n    addCustomKeyword() {\n      if (this.customKeyword.trim()) {\n        const newKeyword = this.customKeyword.trim();\n        \n        // Add to options if not already present\n        if (this.currentKeywordsOptions && !this.currentKeywordsOptions.buttons.find(b => b.value === newKeyword)) {\n          this.currentKeywordsOptions.buttons.push({\n            value: newKeyword,\n            label: newKeyword\n          });\n        }\n        \n        // Add to selected keywords if not already selected\n        if (!this.selectedKeywords.includes(newKeyword)) {\n          this.selectedKeywords.push(newKeyword);\n        }\n        \n        this.customKeyword = '';\n        this.showCustomInput = false;\n      }\n    },\n\n    selectAllKeywords() {\n      if (this.currentKeywordsOptions) {\n        this.selectedKeywords = this.currentKeywordsOptions.buttons.map(b => b.value);\n      }\n    },\n\n    confirmKeywords() {\n      if (this.selectedKeywords.length > 0) {\n        let keywordString = this.selectedKeywords.join(',');\n        if (this.customKeyword.trim()) {\n          keywordString += `,${this.customKeyword.trim()}`;\n        }\n        this.handleOptionClick(keywordString);\n      }\n    },\n\n    formatMessage(content) {\n      if (!content) return '';\n      return marked.parse(content);\n    },\n\n    formatTableContent(content) {\n      if (!content) return '';\n    //   return marked.parse(content.substring(0, 200) + (content.length > 200 ? '...' : ''));\n      return content;\n},\n\n    scrollToBottom() {\n      this.$nextTick(() => {\n        const container = this.$refs.conversationContainer;\n        if (container) {\n          container.scrollTop = container.scrollHeight;\n        }\n      });\n    },\n    toggleIntro() {\n      this.showIntro = !this.showIntro;\n    },\n    startDrag(e) {\n      this.dragging = true;\n      this.dragStartX = e.clientX;\n      this.dragStartWidth = this.chatWidth;\n      document.body.style.cursor = 'col-resize';\n    },\n    onDrag(e) {\n      if (!this.dragging) return;\n      const container = this.$refs.splitContainer;\n      if (!container) return;\n      const rect = container.getBoundingClientRect();\n      let percent = ((e.clientX - rect.left) / rect.width) * 100;\n      percent = Math.max(20, Math.min(80, percent));\n      this.chatWidth = percent;\n    },\n    stopDrag() {\n      if (this.dragging) {\n        this.dragging = false;\n        document.body.style.cursor = '';\n      }\n    },\n    downloadChatHistory() {\n      // Download all sessions, each with its dataTable and category\n      // Merge all sessions into one PDF content\n      const allSessions = this.chatSessions.filter(s => s.messages && s.messages.length > 0);\n      // Compose a single messageHistory array with session breaks\n      let mergedMessages = [];\n      allSessions.forEach((session, idx) => {\n        if (idx > 0) {\n          mergedMessages.push({ role: 'system', content: `--- 分隔線：第${idx+1}次對話 ---` });\n        }\n        session.messages.forEach(msg => {\n          mergedMessages.push({\n            role: msg.type === 'user' ? 'user' : 'assistant',\n            content: msg.content\n          });\n        });\n        // Add a marker for the dataTable and category for this session\n        if (session.dataTable && session.dataTable.length > 0) {\n          mergedMessages.push({\n            role: 'system',\n            content: '__SESSION_DATA_TABLE__',\n            dataTable: session.dataTable,\n            category: session.category\n          });\n        }\n      });\n      // Use a helper to generate the PDF with all tables\n      createAndOpenChatHistoryPdf(mergedMessages, undefined);\n    },\n    // Add a new method for per-session download\n    downloadSession(sessionIdx) {\n      const session = this.chatSessions[sessionIdx];\n      if (!session || !session.messages || session.messages.length === 0) return;\n      const messageHistory = session.messages.map(msg => ({\n        role: msg.type === 'user' ? 'user' : 'assistant',\n        content: msg.content\n      }));\n      createAndOpenChatHistoryPdf(messageHistory, undefined, session.dataTable, session.category);\n    },\n    // Add helper methods to determine last bot message in a session and session index\n    isLastBotMessageInSession(messageIdx) {\n      // Only show download button for bot messages with is_chat_end === true\n      const msg = this.conversation[messageIdx];\n      return msg && msg.type === 'bot' && msg.is_chat_end === true;\n    },\n    getSessionIndexByMessage(messageIdx) {\n      let count = 0;\n      for (let i = 0; i < this.chatSessions.length; i++) {\n        count += this.chatSessions[i].messages.length;\n        if (messageIdx < count) {\n          return i;\n        }\n      }\n      return 0;\n    },\n    checkTruncation(index) {\n      this.$nextTick(() => {\n        const el = this.$refs[`truncatedContent${index}`];\n        if (el && (Array.isArray(el) ? el[0] : el)) {\n          const dom = Array.isArray(el) ? el[0] : el;\n          this.truncatedStates[index] = dom.scrollHeight > dom.clientHeight + 1; // +1 for rounding\n        }\n      });\n    },\n    openContentModal(content) {\n      this.modalContent = content;\n      this.showContentModal = true;\n    },\n    closeContentModal() {\n      this.showContentModal = false;\n      this.modalContent = '';\n    },\n    scrollToRow(index) {\n      this.currentIndexBtn = index;\n      this.$nextTick(() => {\n        const row = this.$refs['tableRow' + index];\n        if (row) {\n          // $refs for v-for is an array in Vue 2, but a single element in Vue 3\n          const el = Array.isArray(row) ? row[0] : row;\n          if (el && el.scrollIntoView) {\n            el.scrollIntoView({ behavior: 'smooth', block: 'start' });\n          }\n        }\n      });\n    },\n    getVisibleIndexButtons(idx, total) {\n      // For mobile: show first, last, and 1 before/after current, with ellipsis\n      if (window.innerWidth > 1219) {\n        return Array.from({ length: total }, (_, i) => i);\n      }\n      const result = [];\n      if (total <= 7) {\n        for (let i = 0; i < total; i++) result.push(i);\n        return result;\n      }\n      result.push(0);\n      if (idx > 2) result.push('ellipsis1');\n      for (let i = Math.max(1, idx - 1); i <= Math.min(total - 2, idx + 1); i++) {\n        if (i !== 0 && i !== total - 1) result.push(i);\n      }\n      if (idx < total - 3) result.push('ellipsis2');\n      result.push(total - 1);\n      return result;\n    },\n    restartChat() {\n      // If current conversation is not empty, save it as a session\n      if (this.conversation.length > 0) {\n        this.chatSessions[this.chatSessions.length - 1].messages = [...this.conversation];\n        this.chatSessions[this.chatSessions.length - 1].dataTable = this.currentDataTable;\n        this.chatSessions[this.chatSessions.length - 1].category = this.selectedCategory;\n      }\n      // Start a new session\n      this.userInput = '';\n      this.loading = false;\n      this.currentDataTable = null;\n      this.selectedKeywords = [];\n      this.customKeyword = '';\n      this.showCustomInput = false;\n      this.currentKeywordsOptions = null;\n      this.selectedCategory = null;\n      this.showIntro = true;\n      this.chatSessions.push({ messages: [], dataTable: null, category: null }); // Add a new empty session\n      this.showContentModal = false;\n      this.modalContent = '';\n      this.truncatedStates = {};\n      this.currentIndexBtn = 0;\n      // Re-initialize session and show welcome message\n      this.initializeSession();\n      this.addWelcomeMessage();\n    },\n  }\n}\n</script>\n\n<style scoped>\n.chat-container {\n  max-width: 1400px;\n  margin: 0 auto;\n  padding: 20px;\n  height: calc(100vh - 280px);\n  min-height: 640px;\n  display: flex;\n  flex-direction: column;\n}\n\n.split-container {\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  min-height: 0;\n  height: 100%;\n  position: relative;\n}\n.chat-panel {\n  min-width: 260px;\n  max-width: 80%;\n  transition: width 0.2s;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: white;\n  border-radius: 10px 0 0 10px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.08);\n  overflow: hidden;\n  flex-shrink: 0;\n  flex-basis: auto;\n}\n.chat-interface {\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 0%;\n  height: 100%;\n  min-height: 0;\n}\n.info-table-panel {\n  min-width: 320px;\n  max-width: 80%;\n  transition: width 0.2s;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: #f8f9fa;\n  border-radius: 0 10px 10px 0;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.08);\n  overflow: hidden;\n  flex-shrink: 0;\n  flex-basis: auto;\n}\n.introduction-panel {\n  padding: 24px 24px 8px 24px;\n  background: #f0f6ff;\n  border-bottom: 1px solid #e1e5e9;\n}\n.introduction-panel h3 {\n  margin-top: 0;\n  margin-bottom: 8px;\n}\n.introduction-panel p {\n  margin: 0;\n  font-size: 18px;\n  color: #333;\n  line-height: 1.7;\n}\n.chat-toolbar {\n  display: flex;\n  gap: 10px;\n  align-items: center;\n}\n.icon-btn {\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 50%;\n}\n\n.chat-header {\n  padding: 10px 20px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  text-align: center;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 60px;\n}\n.chat-header h4 {\n  margin: 0;\n  font-size: 1.2rem;\n}\n\n.chat-main {\n  display: flex;\n  gap: 20px;\n  flex: 1;\n  min-height: 0;\n}\n\n.conversation-container {\n  flex: 1 1 0%;\n  overflow-y: auto;\n  padding: 20px;\n  background: #f8f9fa;\n  min-height: 0;\n}\n\n.message {\n  margin-bottom: 20px;\n  display: flex;\n}\n\n.message.user {\n  justify-content: flex-end;\n}\n\n.message.bot {\n  justify-content: flex-start;\n}\n\n.message-content {\n  max-width: 70%;\n  padding: 15px 20px;\n  border-radius: 18px;\n  position: relative;\n}\n\n.message.user .message-content {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border-bottom-right-radius: 5px;\n}\n\n.message.bot .message-content {\n  background: white;\n  color: #333;\n  border: 1px solid #e1e5e9;\n  border-bottom-left-radius: 5px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.message-text {\n  line-height: 1.5;\n  margin-bottom: 0px !important;\n}\n\n.message-text.markdown-content >>> p {\n  margin-bottom: 0px !important;\n}\n.message-options {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  margin-top: 10px;\n}\n\n.option-button {\n  padding: 8px 16px;\n  border: 2px solid #667eea;\n  background: white;\n  color: #667eea;\n  border-radius: 20px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: all 0.3s ease;\n}\n\n.option-button:hover:not(:disabled) {\n  background: #667eea;\n  color: white;\n}\n\n.option-button:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n/* Keywords Options Styles */\n.keywords-list {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 12px;\n    margin-bottom: 20px;\n    padding: 20px;\n    background: white;\n    border-radius: 12px;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n}\n\n.keyword-checkbox {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    padding: 12px 18px;\n    background: white;\n    border: 2px solid #8b5cf6;\n    border-radius: 25px;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    font-size: 15px;\n    font-weight: 500;\n    position: relative;\n    user-select: none;\n}\n\n.keyword-checkbox:hover {\n    border-color: #7c3aed;\n    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.15);\n    transform: translateY(-1px);\n}\n\n.keyword-checkbox.selected {\n    background: #8b5cf6;\n    color: white;\n    border-color: #8b5cf6;\n    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);\n}\n\n.keyword-checkbox.selected:hover {\n    background: #7c3aed;\n    border-color: #7c3aed;\n}\n\n/* Hide default checkbox */\n.keyword-checkbox input[type=\"checkbox\"] {\n    position: absolute;\n    opacity: 0;\n    cursor: pointer;\n    height: 0;\n    width: 0;\n}\n\n/* Custom checkbox */\n.custom-checkbox {\n    position: relative;\n    width: 20px;\n    height: 20px;\n    border: 2px solid #8b5cf6;\n    border-radius: 4px;\n    background: white;\n    transition: all 0.3s ease;\n    flex-shrink: 0;\n}\n\n.keyword-checkbox:hover .custom-checkbox {\n    border-color: #7c3aed;\n    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);\n}\n\n.keyword-checkbox.selected .custom-checkbox {\n    background: white;\n    border-color: white;\n}\n\n/* Checkmark */\n.custom-checkbox::after {\n    content: '';\n    position: absolute;\n    left: 6px;\n    top: 2px;\n    width: 6px;\n    height: 10px;\n    border: solid #8b5cf6;\n    border-width: 0 2px 2px 0;\n    transform: rotate(45deg);\n    opacity: 0;\n    transition: opacity 0.2s ease;\n}\n\n.keyword-checkbox.selected .custom-checkbox::after {\n    opacity: 1;\n}\n\n.checkbox-label {\n    font-size: 15px;\n    cursor: pointer;\n    font-weight: 500;\n    line-height: 1.2;\n    border: 0 !important;\n    padding: 0 !important;\n    background: transparent !important;\n}\n\n/* if the parant keyword-checkbox is selected, then the checkbox-label should be bold\n */\n.keyword-checkbox.selected .checkbox-label {\n    background: transparent !important;\n    color: #f0f0f0 !important;\n}\n\n.custom-keyword-section {\n    margin-bottom: 20px;\n}\n\n/* Animation for selection */\n@keyframes selectPulse {\n    0% { transform: scale(1); }\n    50% { transform: scale(1.05); }\n    100% { transform: scale(1); }\n}\n\n.keyword-checkbox.selected {\n    animation: selectPulse 0.3s ease;\n}\n\n.custom-keyword-section {\n  margin-bottom: 15px;\n}\n\n.add-keyword-button {\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  background: #D84040;\n  color: white;\n  border: none;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n  transition: all 0.3s ease;\n}\n\n.add-keyword-button:hover {\n  background: #45a049;\n  transform: scale(1.1);\n}\n\n.keyword-input-container {\n  display: flex;\n  gap: 8px;\n  align-items: center;\n}\n\n.keyword-input {\n  flex: 1;\n  padding: 8px 12px;\n  border: 2px solid #e1e5e9;\n  border-radius: 20px;\n  font-size: 14px;\n  width: 100%;\n}\n\n.keyword-input:focus {\n  outline: none;\n  border-color: #667eea;\n}\n\n.keyword-input-button {\n  padding: 8px 16px;\n  background: #667eea;\n  color: white;\n  border: none;\n  border-radius: 20px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: all 0.3s ease;\n}\n\n.keyword-input-button:hover {\n  background: #5a6fd8;\n}\n\n.keywords-actions {\n  display: flex;\n  gap: 10px;\n  align-items: center;\n  justify-content: end;\n  padding: 0 20px;\n}\n\n.select-all-button {\n  padding: 8px 16px;\n  background: #667eea;\n  color: white;\n  border: none;\n  border-radius: 20px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: all 0.3s ease;\n}\n\n.select-all-button:hover {\n  background: #5a6fd8;\n}\n\n.confirm-button {\n  background-color: #ea7a66;\n  width: 70px;\n  height: 40px;\n  display: inline-block;\n  position: relative;\n  border-radius: 8px 0 0 8px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  border: none;\n  color: white;\n}\n.confirm-button:after {\n  color: #ea7a66;\n  border-left: 28px solid;\n  border-top: 30px solid transparent;\n  border-bottom: 30px solid transparent;\n  display: inline-block;\n  content: '';\n  position: absolute;\n  right: -20px;\n  top: -9px;\n}\n\n.confirm-button:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.loading-indicator {\n  text-align: center;\n  padding: 20px;\n}\n\n.loading-dots {\n  display: flex;\n  justify-content: center;\n  gap: 4px;\n  margin-bottom: 10px;\n}\n\n.loading-dots span {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: #667eea;\n  animation: bounce 1.4s ease-in-out infinite both;\n}\n\n.loading-dots span:nth-child(1) { animation-delay: -0.32s; }\n.loading-dots span:nth-child(2) { animation-delay: -0.16s; }\n\n@keyframes bounce {\n  0%, 80%, 100% { transform: scale(0); }\n  40% { transform: scale(1); }\n}\n\n.input-area {\n  padding: 20px;\n  background: white;\n  border-top: 1px solid #e1e5e9;\n  position: sticky;\n  bottom: 0;\n  z-index: 2;\n}\n\n.input-container {\n  display: flex;\n  gap: 10px;\n  align-items: flex-end;\n}\n\n.message-input {\n  flex: 1;\n  padding: 12px 16px;\n  border: 2px solid #e1e5e9;\n  border-radius: 25px;\n  resize: none;\n  font-family: inherit;\n  font-size: 14px;\n  line-height: 1.5;\n  transition: border-color 0.3s ease;\n}\n\n.message-input:focus {\n  outline: none;\n  border-color: #667eea;\n}\n\n.message-input:disabled {\n  background: #f8f9fa;\n  cursor: not-allowed;\n}\n\n.send-button {\n  padding: 12px 24px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  border-radius: 25px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  min-width: 80px;\n}\n\n.send-button:hover:not(:disabled) {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(102, 126, 234, 0.3);\n}\n\n.send-button:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.data-table-container {\n  height: inherit;\n  position: relative;\n}\n\n.table-header {\n  padding: 20px;\n  position: sticky;\n  top: 0;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  z-index: 2;\n  color: white;\n  text-align: center;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 60px;\n}\n\n.table-header h3 {\n  font-size: 1.2rem;\n  width: fit-content;\n  margin-bottom: 0;\n}\n\n.table-header p {\n  margin: 0;\n  opacity: 0.9;\n  font-size: 0.9rem;\n  width: fit-content;\n}\n\n.table-wrapper {\n  width: 100%;\n  max-height: 70vh;\n  overflow-y: auto;\n  position: relative;\n}\n\n.data-table {\n  width: 100%;\n  border-collapse: collapse;\n  font-size: 0.9rem;\n  height: 100%;\n  overflow: auto;\n}\n\n.data-table th {\n  background-color: #BDE3FF !important;\n  border: #97B6CC 1px solid !important;\n  padding: 8px;\n  text-align: center;\n  font-weight: bold;\n  position: sticky;\n  top: 0;\n  z-index: 10;\n}\n\n.data-table td {\n  border: 1px solid #e1e5e9;\n  padding: 8px;\n  vertical-align: top;\n}\n\n.case-cell {\n  width: 120px;\n}\n\n.case-cell a {\n  color: #0a60ac;\n  text-decoration: none;\n}\n\n.case-cell a:hover {\n  text-decoration: underline;\n}\n\n.no-data {\n  color: #999;\n  font-style: italic;\n}\n\n/* Markdown Content Styles */\n.markdown-content {\n  line-height: 1.6;\n}\n\n.markdown-content h1, .markdown-content h2, .markdown-content h3, \n.markdown-content h4, .markdown-content h5, .markdown-content h6 {\n  margin: 1em 0 0.5em;\n  font-weight: 600;\n}\n\n.markdown-content p, .markdown-content ul, .markdown-content ol {\n  margin: 0.5em 0;\n}\n\n.markdown-content ul, .markdown-content ol {\n  padding-left: 1.5em;\n}\n\n.markdown-content code {\n  background-color: #f0f0f0;\n  padding: 0.2em 0.4em;\n  border-radius: 3px;\n  font-family: monospace;\n}\n\n.markdown-content pre {\n  background-color: #f8f8f8;\n  padding: 1em;\n  border-radius: 5px;\n  overflow-x: auto;\n}\n\n.markdown-content pre code {\n  background-color: transparent;\n  padding: 0;\n}\n\n.markdown-content blockquote {\n  margin: 0.5em 0;\n  padding-left: 1em;\n  border-left: 4px solid #ddd;\n  color: #666;\n}\n\n@media (max-width: 1200px) {\n  .chat-main {\n    flex-direction: column;\n  }\n  \n  .data-table-container {\n    width: 100%;\n    height: 300px;\n  }\n}\n\n@media (max-width: 768px) {\n  .split-container {\n    flex-direction: column;\n    height: auto;\n    min-height: 0;\n  }\n  .chat-panel {\n    width: 100% !important;\n    min-width: 0;\n    max-width: 100%;\n    border-radius: 10px 10px 0 0;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.08);\n  }\n  .info-table-panel {\n    width: 100% !important;\n    min-width: 0;\n    max-width: 100%;\n    border-radius: 0 0 10px 10px;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.08);\n  }\n  .splitter {\n    display: none;\n  }\n  .index-buttons {\n    flex-wrap: nowrap;\n    overflow-x: auto;\n    gap: 2px;\n    padding-bottom: 4px;\n  }\n  .index-btn {\n    min-width: 28px !important;\n    height: 28px !important;\n    font-size: 13px;\n    border-radius: 50%;\n    padding: 0;\n  }\n  .index-ellipsis {\n    display: inline-block;\n    min-width: 20px;\n    text-align: center;\n    color: #667eea;\n    font-weight: bold;\n    font-size: 18px;\n    background: transparent;\n    border: none;\n    pointer-events: none;\n  }\n}\n\n.conversation-container::-webkit-scrollbar,\n.table-wrapper::-webkit-scrollbar {\n  width: 6px;\n}\n\n.conversation-container::-webkit-scrollbar-track,\n.table-wrapper::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n\n.conversation-container::-webkit-scrollbar-thumb,\n.table-wrapper::-webkit-scrollbar-thumb {\n  background: #c1c1c1;\n  border-radius: 3px;\n}\n\n.conversation-container::-webkit-scrollbar-thumb:hover,\n.table-wrapper::-webkit-scrollbar-thumb:hover {\n  background: #a8a8a8;\n}\n\n.splitter {\n  width: 8px;\n  background: #e1e5e9;\n  cursor: col-resize;\n  z-index: 2;\n  transition: background 0.2s;\n  flex-shrink: 0;\n}\n\n.splitter:hover, .splitter:active {\n  background: #b3b3b3;\n}\n\n.modal-overlay {\n  position: fixed;\n  top: 0; left: 0; right: 0; bottom: 0;\n  background: rgba(0,0,0,0.4);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n.modal-content {\n  background: white;\n  padding: 55px 32px 32px 32px;\n  border-radius: 12px;\n  max-width: 700px;\n  max-height: 80vh;\n  overflow-y: auto;\n  position: relative;\n}\n.modal-close {\n  position: absolute;\n  top: 12px;\n  right: 12px;\n  background: #ea7a66;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  padding: 6px 16px;\n  cursor: pointer;\n}\n.truncate-3-lines {\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  position: relative;\n  min-height: 1.5em;\n  max-height: 4.5em; /* 3 lines x 1.5em line-height */\n  line-height: 1.5em;\n}\n.index-btn {\n  transition: background 0.2s, color 0.2s, border 0.2s;\n}\n.index-btn:hover, .index-btn:focus {\n  background: #667eea;\n  color: #fff;\n  border: 1px solid #667eea;\n}\n</style> ","import pdfMake from 'pdfmake/build/pdfmake'\n\n// Helper function to strip HTML tags from content\nfunction stripHtmlTags(content) {\n  if (!content) return '';\n  return content\n    .replace(/<input[^>]*>/gi, '')\n    .replace(/<label[^>]*>(.*?)<\\/label>/gi, '$1')\n    .replace(/<[^>]+>/g, '')\n    .replace(/&nbsp;/gi, ' ')\n    .replace(/\\s+/g, ' ')\n    .trim();\n}\n\n// Utility: Chunk long text into multiple parts\nfunction splitLongText(text, maxLength = 800) {\n  const chunks = [];\n  for (let i = 0; i < text.length; i += maxLength) {\n    chunks.push(text.slice(i, i + maxLength));\n  }\n  return chunks;\n}\n\n\nconst pdfStyles = {\n  header: {\n    fontSize: 20,\n    bold: true\n  },\n  factorTitle: {\n    fontSize: 12,\n    bold: true\n  },\n  title: {\n    fontSize: 12,\n    bold: true,\n    margin: [0, 8, 0, 6]\n  },\n  date: {\n    fontSize: 6\n  },\n  diagramDescription: {\n    fontSize: 6,\n    alignment: 'center'\n  },\n  description: {\n    fontSize: 10\n  },\n  normal: {\n    margin: [0, 0, 0, 0],\n    fontSize: 10\n  },\n  user: {\n    margin: [0, 12, 0, 0],\n    fontSize: 12,\n    bold: true,\n    color: '#f59e0b'\n  },\n  leAssistant: {\n    margin: [0, 8, 0, 0],\n    fontSize: 12,\n    bold: true,\n    color: '#764ba2'\n  }\n}\n\n// Helper function to load fonts dynamically\nasync function loadFonts() {\n  // Dynamic load font file\n  pdfMake.vfs = await import('@/assets/fonts/vfs_fonts.js')\n  pdfMake.fonts = {\n    NotoSansTC: {\n      normal: 'NotoSansTC-Light.ttf',\n      bold: 'NotoSansTC-Medium.ttf',\n    }\n  }\n}\n\nexport async function createAndOpenPredictResultPdf(\n  pdfTitle\n) {\n  // Load fonts before creating PDF\n  await loadFonts()\n\n  const content = [\n    {\n      text: `AI 輔助親權裁判預測系統 - ${pdfTitle}`,\n      style: 'header'\n    },\n    {\n      text: `匯出日期：${new Date().toLocaleString('zh-TW')}`,\n      style: 'date'\n    },\n    {\n      text: '使用者輸入內容',\n      style: 'title'\n    }\n  ]\n\n  pdfMake\n    .createPdf(\n      {\n        content: content,\n        defaultStyle: {\n          font: 'NotoSansTC'\n        },\n        styles: pdfStyles\n      }\n    )\n    .download(`AI輔助親權裁判預測系統_${pdfTitle}_${new Date().toISOString().split('T')[0]}.pdf`)\n}\n\nexport async function createAndOpenChatHistoryPdf(\n  messageHistory,\n  figuresSrc,\n  dataTable, // optional, for backward compatibility\n  category // optional, for backward compatibility\n) {\n  // Load fonts before creating PDF\n  await loadFonts()\n\n  // Find prediction index if any\n  const predictIndex = messageHistory.findIndex(\n    (curMessage) => curMessage.status === 'predict'\n  )\n\n  function reduceMessagesToPdf(prevArr, curMessage) {\n    if (curMessage.role === 'system' && curMessage.content === '__SESSION_DATA_TABLE__') {\n      // Render the dataTable for this session\n      if (curMessage.dataTable && Array.isArray(curMessage.dataTable) && curMessage.dataTable.length > 0) {\n        const contentField = curMessage.category === '見解' ? '見解' : '事實';\n        const tableBody = [];\n        tableBody.push([\n          { text: '相關判決書搜尋結果', style: 'factorTitle', fillColor: '#BDE3FF', color: '#333', alignment: 'center' }\n        ]);\n        curMessage.dataTable.forEach((row, idx) => {\n          // 案號\n          let caseNumber = row['案號'] || '';\n          // Try to extract a case number for link (remove HTML if present)\n          let plainCaseNumber = caseNumber.replace(/<[^>]+>/g, '');\n          // Build link to court system (the list string inside \"\" after href)\n          let caseUrl = caseNumber.match(/<a [^>]*href=[\"']([^\"']+)[\"'][^>]*>([\\s\\S]*?)<\\/a>/i)?.[1];\n          // 內容\n          let content = row[contentField] || '';\n          content = content.replace(/\\r|\\n|<br\\s*\\/?>/gi, '');\n          // Strip HTML tags from content\n          content = stripHtmlTags(content);\n          let rowText = [\n            `編號${idx + 1}`,\n            `案號：${plainCaseNumber} \\n`,\n            `連結：${caseUrl} \\n`,\n            `\\n【${contentField}內容】\\n`,\n            content\n          ];\n          tableBody.push([\n            { stack: rowText, style: 'normal', margin: [0, 6, 0, 6] }\n          ]);\n        });\n        prevArr.push({\n          table: {\n            headerRows: 1,\n            widths: ['*'],\n            body: tableBody\n          },\n          layout: {\n            fillColor: function (rowIndex) { return rowIndex === 0 ? '#BDE3FF' : null; },\n            hLineWidth: function () { return 0.5; },\n            vLineWidth: function () { return 0; },\n            hLineColor: function () { return '#97B6CC'; },\n            vLineColor: function () { return '#97B6CC'; }\n          },\n          margin: [0, 8, 0, 8]\n        });\n      }\n      return prevArr;\n    }\n\n    if (curMessage.role === 'system' && curMessage.content?.startsWith('--- 分隔線')) {\n      prevArr.push({\n        text: curMessage.content,\n        style: 'description',\n        margin: [0, 12, 0, 12]\n      });\n      return prevArr;\n    }\n\n    if (curMessage.role === 'assistant') {\n      prevArr.push({ text: 'AI助手：', style: 'leAssistant' });\n    }\n\n    if (curMessage.role === 'user') {\n      prevArr.push({ text: '使用者：', style: 'user' });\n    }\n\n    // Handle messages with options\n    if (curMessage.options?.option_type === 'keywords_options') {\n      const selectedKeywords = (curMessage.options.buttons || []).map(b => b.label).join(', ');\n      const keywordSummary = selectedKeywords ? `（關鍵字選擇）${selectedKeywords}` : '（未選擇關鍵字）';\n      prevArr.push({\n        text: keywordSummary,\n        style: 'normal'\n      });\n    }\n\n    // Fallback for normal content (chunk if too long)\n    const cleanText = stripHtmlTags(curMessage.content || '');\n    if (cleanText) {\n      const chunks = splitLongText(cleanText);\n      chunks.forEach(chunk => {\n        prevArr.push({\n          text: chunk,\n          style: 'normal'\n        });\n      });\n    }\n\n    return prevArr;\n  }\n\n  const content = [\n    {\n      text: 'AI裁判書助手',\n      style: 'header'\n    },\n    {\n      text: `匯出日期：${new Date().toLocaleString('zh-TW')}`,\n      style: 'description'\n    }\n  ]\n\n  // If mergedMessages (download all), just reduce all\n  if (Array.isArray(messageHistory) && messageHistory.some(m => m.content === '__SESSION_DATA_TABLE__')) {\n    content.push(...messageHistory.reduce(reduceMessagesToPdf, []));\n  } else {\n    // parse until prediction\n    const parsedMessage = messageHistory\n      .slice(0, predictIndex)\n      .reduce(reduceMessagesToPdf, [])\n    content.push(...parsedMessage)\n    if (figuresSrc) {\n      content.push({\n        text: 'AI助手：',\n        style: 'leAssistant'\n      })\n      content.push({\n        alignment: 'justify',\n        columns: [\n          {\n            image: figuresSrc.figure1Src,\n            width: 240\n          },\n          {\n            image: figuresSrc.figure2Src,\n            width: 240\n          }\n        ],\n        columnGap: 16\n      })\n    }\n    // push prediction results\n    const predictMessages = messageHistory\n      .slice(predictIndex)\n      .reduce(reduceMessagesToPdf, [])\n    content.push(...predictMessages)\n    // push table if provided (legacy)\n    if (dataTable && Array.isArray(dataTable) && dataTable.length > 0) {\n      const contentField = category === '見解' ? '見解' : '事實';\n      const tableBody = [];\n      tableBody.push([\n        { text: '相關判決書搜尋結果', style: 'factorTitle', fillColor: '#BDE3FF', color: '#333', alignment: 'center' }\n      ]);\n      dataTable.forEach((row, idx) => {\n        // 案號\n        let caseNumber = row['案號'] || '';\n        // Try to extract a case number for link (remove HTML if present)\n        let plainCaseNumber = caseNumber.replace(/<[^>]+>/g, '');\n        // Build link to court system (the list string inside \"\" after href)\n        let caseUrl = caseNumber.match(/<a [^>]*href=[\"']([^\"']+)[\"'][^>]*>([\\s\\S]*?)<\\/a>/i)?.[1];\n        // 內容\n        let content = row[contentField] || '';\n        content = content.replace(/\\r|\\n|<br\\s*\\/?>/gi, '');\n        // Strip HTML tags from content\n        content = stripHtmlTags(content);\n        let rowText = [\n          `編號${idx + 1}`,\n          `案號：${plainCaseNumber} \\n`,\n          `連結：${caseUrl} \\n`,\n          `\\n【${contentField}內容】\\n`,\n          content\n        ];\n        tableBody.push([\n          { stack: rowText, style: 'normal', margin: [0, 6, 0, 6] }\n        ]);\n      });\n      content.push({\n        table: {\n          headerRows: 1,\n          widths: ['*'],\n          body: tableBody\n        },\n        layout: {\n          fillColor: function (rowIndex) { return rowIndex === 0 ? '#BDE3FF' : null; },\n          hLineWidth: function () { return 0.5; },\n          vLineWidth: function () { return 0; },\n          hLineColor: function () { return '#97B6CC'; },\n          vLineColor: function () { return '#97B6CC'; }\n        },\n        margin: [0, 8, 0, 8]\n      });\n    }\n  }\n\n  pdfMake\n    .createPdf(\n      {\n        content: content,\n        defaultStyle: {\n          font: 'NotoSansTC'\n        },\n        styles: pdfStyles\n      }\n    )\n    .download(`AI裁判書助手_對話記錄_${new Date().toISOString().split('T')[0]}.pdf`)\n}\n","import { render } from \"./ChatView.vue?vue&type=template&id=dc57d742&scoped=true\"\nimport script from \"./ChatView.vue?vue&type=script&lang=js\"\nexport * from \"./ChatView.vue?vue&type=script&lang=js\"\n\nimport \"./ChatView.vue?vue&type=style&index=0&id=dc57d742&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-dc57d742\"]])\n\nexport default __exports__","<template>\n  <div class=\"container mt-4\">\n    <div class=\"intro-containter border rounded-3\">\n      本系統是國立清華大學人文社會AI應用與發展研究中心為執行AI公共化相關計畫之成果展示，以司法院所公開的民刑事案件判決書為訓練資料，讓生成式AI模型自動標註出與該案件有關的文字。可以用對話方式或關鍵字搜尋進行檢索或見解討論。免費對外開放，提供法學研究者、司法實務工作者或一般民眾使用。\n    </div>\n    <el-row>\n      <!-- Left column for form inputs -->\n      <el-col :lg=\"{'span':7}\" :md=\"24\">\n        <form @submit.prevent=\"onSubmit\">\n          <!-- Case type input -->\n          <!-- Court type select -->\n           <!-- Court type select -->\n          <div class=\"form-group\">\n            <div style=\"margin: 10px 0\"><strong>法院別</strong></div>\n            <!-- Checkboxes for court selection -->\n            <div class=\"check-court-container\">\n              <div class=\"check-court-option\">\n                <input type=\"checkbox\" id=\"selectAll\" class=\"hidden-checkbox\" v-model=\"selectAllCourts\" @change=\"selectAllChanged\">\n                <label for=\"selectAll\" class=\"checkbox-label\">所有法院</label>\n              </div>\n              <div class=\"check-court-option\">\n                <input type=\"checkbox\" id=\"selectSupremeCourts\" class=\"hidden-checkbox\" v-model=\"selectSupremeCourts\" @change=\"selectSupremeCourtsChanged\">\n                <label for=\"selectSupremeCourts\" class=\"checkbox-label\">所有高等法院</label>\n              </div>\n              <div class=\"check-court-option\">\n                <input type=\"checkbox\" id=\"selectDistrictCourts\" class=\"hidden-checkbox\" v-model=\"selectDistrictCourts\" @change=\"selectDistrictCourtsChanged\">\n                <label for=\"selectDistrictCourts\" class=\"checkbox-label\">所有地方法院</label>\n              </div>\n            </div>\n            \n            <div class=\"smartphone-message\">請點擊下方輸入框以選取法院</div>\n            <!-- Court Selection Dropdown -->\n            <div>\n              <select class=\"form-select select-court-container\" multiple v-model=\"selectedCourts\">\n                <option v-for=\"(item, index) in courtTypeOptions\" :key=\"index\">{{ item.name }}</option>\n              </select>\n            </div>\n          </div>\n\n          <!-- Referee date input -->\n          <div class=\"form-group\">\n            <div class=\"mt-3\"><strong>裁判日期</strong></div>\n            <div style=\"margin: 10px 0;\">\n              <span class=\"p-2\">起</span>\n              <span>民國</span>\n              <select class=\"form-select form-select-sm\" style=\"width: fit-content;display: inline;\" v-model=\"selectedDateRange.from.year\">\n                <option v-for=\"year in getSelectableYears()\" :value=\"parseInt(defaultDateRange.from.year)+year-1\" :key=\"parseInt(defaultDateRange.from.year)+year-1\">{{ parseInt(defaultDateRange.from.year)+year-1 }}</option>\n              </select>\n              <span>年</span>\n              <select class=\"form-select form-select-sm\" style=\"width: fit-content;display: inline;\" v-model=\"selectedDateRange.from.month\">\n                <option v-for=\"month in 12\" :value=\"month\" :key=\"month\">{{month }}</option>\n              </select>\n              <span>月</span>\n            </div>\n            <div style=\"margin: 10px 0;\">\n              <span class=\"p-2\">迄</span>\n              <span>民國</span>\n              <select class=\"form-select form-select-sm\" style=\"width: fit-content;display: inline;\" v-model=\"selectedDateRange.to.year\">\n                <option v-for=\"year in getSelectableYears()\" :value=\"parseInt(defaultDateRange.from.year)+year-1\" :key=\"parseInt(defaultDateRange.from.year)+year-1\">{{ parseInt(defaultDateRange.from.year)+year-1 }}</option>\n              </select>\n              <span>年</span>\n              <select class=\"form-select form-select-sm\" style=\"width: fit-content;display: inline;\" v-model=\"selectedDateRange.to.month\">\n                <option v-for=\"month in 12\" :value=\"month\" :key=\"month\">{{month }}</option>\n              </select>\n              <span>月</span>\n            </div>\n          </div>\n        </form>\n      </el-col>\n      <el-col :lg=\"{'span':16,'offset':1}\" :md=\"24\" style=\"margin-top: 20px;\">\n        <!-- 刑事案件 -->\n        <div class=\"p-0 border rounded-3\">\n          <div class=\"flex-container\">\n            <div class=\"flex-row header\">\n              <div class=\"flex-column\">刑事案件(106/1-110/12)</div>\n              <div class=\"flex-column\">請輸入搜尋條件</div>\n            </div>\n            <div class=\"flex-row\" v-for=\"(field, index) in formData.searchFields\" :key=\"index\">\n              <div class=\"flex-column\" style=\"background-color: #f5f5f5;\">{{ field.type }}</div>\n              <div class=\"flex-column custom-light-purple\">\n                <input type=\"text\" class=\"form-control\" v-model=\"field.query\" :placeholder=\"field.example\">\n              </div>\n            </div>\n            <div class=\"flex-row\">\n              <div class=\"flex-column\" style=\"background-color: #f5f5f5;\"></div>\n              <div class=\"flex-column custom-light-purple\">\n                <button class=\"btn btn-secondary custom-purlpe\" @click=\"advanceSearch('criminal')\">開始搜尋</button>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"form-instruction\">( 註：關於見解/心證/涵攝的定義，請見「<a href=\"/about\">使用說明與技術簡介</a>」。搜尋後的結果將會分開呈現。關鍵字若有兩個以上，請以空格分開。)\n        </div>\n        <!-- 民事案件 -->\n        <div class=\"p-0 border rounded-3 mb-3\">\n          <div class=\"flex-container\">\n            <div class=\"flex-row header\">\n              <div class=\"flex-column\">民事案件(105/8-107/12)</div>\n              <div class=\"flex-column\">請輸入搜尋條件</div>\n            </div>\n            <div class=\"flex-row\" v-for=\"(field, index) in civilFormData.searchFields\" :key=\"index\">\n              <div class=\"flex-column\" style=\"background-color: #f5f5f5;\">{{ field.type }}</div>\n              <div class=\"flex-column custom-light-purple\">\n                <input type=\"text\" class=\"form-control\" v-model=\"field.query\" :placeholder=\"field.example\">\n              </div>\n            </div>\n            <div class=\"flex-row\">\n              <div class=\"flex-column\" style=\"background-color: #f5f5f5;\"></div>\n              <div class=\"flex-column custom-light-purple\">\n                <button class=\"btn btn-secondary custom-purlpe\" @click=\"advanceSearch('civil')\">開始搜尋</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\n// import { offset } from '@popperjs/core';\nimport { ElMessage } from 'element-plus'\nexport default {\n  name: 'SearchForm',\n  components: {\n  },\n  data() {\n    return {\n      civilFormData: {\n        court_type: '',\n        refereeDate: '',\n        searchFields: [\n          {type: '民事判決書的見解關鍵字(必填)', name:'prediction', example: '', query: '', required: true},\n        ],\n      },\n      formData: {\n        court_type: '',\n        refereeDate: '',\n        searchFields: [\n          {type: '案件別', name:'case_type', example: '例如：詐欺', query: '', required: false},\n          {type: '當事人等基本資料', name:'basic_info', example: '', query: '', required: false},\n          {type: '主文中的關鍵字', name:'syllabus', example: '', query: '', required: false},\n          {type: '刑事判決書的見解/心證/涵攝關鍵字(必填)', name:'prediction', example: '', query: '', required: true},\n          // {type: '法院見解的關鍵字', name:'opinion', example: '', query: ''},\n          // {type: '法官心證的關鍵字(限地院)', name:'fee', example: '', query: ''},\n          // {type: '法官涵攝的關鍵字(限地院)', name:'sub', example: '', query: ''},\n          // {type: '判決全文的關鍵字', name:'jud_full', example: '', query: ''},\n        ],\n      },\n      courtTypeOptions: [\n        { name: '最高法院', value: 'zgf' },\n        { name: '臺灣高等法院', value: 'twgdfy' },\n        { name: '臺灣高等法院臺中分院', value: 'twgdfytcfy' },\n        { name: '臺灣高等法院臺南分院', value: 'twgdfytnfy' },\n        { name: '臺灣高等法院高雄分院', value: 'twgdfykxfy' },\n        { name: '臺灣高等法院花蓮分院', value: 'twgdfyhlfy' },\n        { name: '福建高等法院金門分院', value: 'fjgdfyjmfy' },\n        { name: '智慧財產及商業法院', value: 'zhccjsyfy' },\n        { name: '臺灣臺北地方法院', value: 'twtbdfy' },\n        { name: '臺灣新北地方法院', value: 'twxbdfy' },\n        { name: '臺灣士林地方法院', value: 'twslgdfy' },\n        { name: '臺灣桃園地方法院', value: 'twtydfy' },\n        { name: '臺灣新竹地方法院', value: 'twxzdfy' },\n        { name: '臺灣苗栗地方法院', value: 'twmldfy' },\n        { name: '臺灣臺中地方法院', value: 'twtcdfy' },\n        { name: '臺灣南投地方法院', value: 'twntdfy' },\n        { name: '臺灣彰化地方法院', value: 'twzhdfy' },\n        { name: '臺灣雲林地方法院', value: 'twyldfy' },\n        { name: '臺灣嘉義地方法院', value: 'twjydfy' },\n        { name: '臺灣臺南地方法院', value: 'twtndfy' },\n        { name: '臺灣高雄地方法院', value: 'twkxdfy' },\n        { name: '臺灣橋頭地方法院', value: 'twqtdfy' },\n        { name: '臺灣屏東地方法院', value: 'twptdfy' },\n        { name: '臺灣臺東地方法院', value: 'twtdgdfy' },\n        { name: '臺灣花蓮地方法院', value: 'twhldfy' },\n        { name: '臺灣宜蘭地方法院', value: 'twyldfy' },\n        { name: '臺灣基隆地方法院', value: 'twjldfy' },\n        { name: '臺灣澎湖地方法院', value: 'twphdfy' },\n        { name: '福建金門地方法院', value: 'fjjmdfy' },\n        { name: '福建連江地方法院', value: 'fjljdfy' }\n      ],\n      allCourtValues: ['最高法院', '智慧財產及商業法院', '所有高等法院', '所有地方法院'],\n      supremeCourtValues: [],\n      districtCourtValues: [],\n      selectedCourts: [],\n      selectAllCourts: false,\n      selectSupremeCourts: false,\n      selectDistrictCourts: false,\n      showModal: false,\n      isSelectedAllCourts: true,\n      defaultDateRange: {\n        from: {\n          year: '105',\n          month: '1'\n        },\n        to: {\n          year: '110',\n          month: '12'\n        },\n      },\n      selectedDateRange: {\n        from: {\n          year: '105',\n          month: '1'\n        },\n        to: {\n          year: '110',\n          month: '12'\n        },\n      }\n    };\n  },\n  mounted() {\n    this.initializeCourt()\n    this.initializeForm()\n  },\n  watch: {\n    'selectedDateRange.from': {\n      handler(newValue) {\n        // Convert year and month to integers for comparison\n        const fromYear = parseInt(newValue.year);\n        const fromMonth = parseInt(newValue.month);\n        const toYear = parseInt(this.selectedDateRange.to.year);\n        const toMonth = parseInt(this.selectedDateRange.to.month);\n\n        if (fromYear > toYear || (fromYear === toYear && fromMonth > toMonth)) {\n          // If from date is later than to date, set to date equal to from date\n          this.selectedDateRange.to.year = newValue.year;\n          this.selectedDateRange.to.month = newValue.month;\n          ElMessage({\n            message: '起始日不可晚於結束日',\n            type: 'warning',\n          })\n        }\n      },\n      deep: true,\n    },\n    'selectedDateRange.to': {\n      handler(newValue) {\n        // Convert year and month to integers for comparison\n        const toYear = parseInt(newValue.year);\n        const toMonth = parseInt(newValue.month);\n        const fromYear = parseInt(this.selectedDateRange.from.year);\n        const fromMonth = parseInt(this.selectedDateRange.from.month);\n\n        // Compare year and month directly\n        if (toYear < fromYear || (toYear === fromYear && toMonth < fromMonth)) {\n          // If to date is earlier than from date, set from date equal to to date\n          this.selectedDateRange.from.year = newValue.year;\n          this.selectedDateRange.from.month = newValue.month;\n        }\n      },\n      deep: true,\n    },\n    selectedCourts(newVal) {\n      this.selectAllCourts = newVal.length === this.courtTypeOptions.length\n      this.selectDistrictCourts = this.includesAll(newVal, this.districtCourtValues)\n      this.selectSupremeCourts = this.includesAll(newVal, this.supremeCourtValues)\n    },\n    'civilFormData': {\n      handler(newFields) {\n        localStorage.setItem('civilFormData', JSON.stringify(newFields))\n      },\n      deep: true\n    },\n    'formData': {\n      handler(newFields) {\n        localStorage.setItem('formData', JSON.stringify(newFields));\n      },\n      deep: true\n    }\n  },\n  created() {\n    const storedFields = localStorage.getItem('formData');\n    const civilStoredFields = localStorage.getItem('civilFormData');\n    if (storedFields) {\n      this.formData = JSON.parse(storedFields);\n    }\n    if (civilStoredFields) {\n      this.civilFormData = JSON.parse(civilStoredFields);\n    }\n    window.addEventListener('beforeunload', this.clearLocalStorage);\n  },\n  beforeUnmount() {\n    window.removeEventListener('beforeunload', this.clearLocalStorage);\n  },\n  methods: {\n    clearLocalStorage() {\n      localStorage.removeItem('formData');\n      localStorage.removeItem('civilFormData');\n    },\n    getSelectableYears() {\n      return this.defaultDateRange.to.year - this.defaultDateRange.from.year + 1\n    },\n    formatPart(value) {\n      return String(value).padStart(2, '0')\n    },\n    getLastDayOfMonth(year, month) {\n      let lastDayCurrentMonth = new Date(year, month + 1, 0)\n      return lastDayCurrentMonth.getDate()\n    },\n    dateFormat() {\n      const fromYear = 1911 + parseInt(this.selectedDateRange.from.year);\n      const fromMonth = String(this.selectedDateRange.from.month);\n      const toYear = 1911 + parseInt(this.selectedDateRange.to.year);\n      const toMonth = String(this.selectedDateRange.to.month);\n      let lastDate = this.getLastDayOfMonth(\n        toYear,\n        toMonth-1\n      )\n\n      return `${fromYear}${fromMonth.padStart(2, \"0\")}01-${toYear}${toMonth.padStart(2, \"0\")}${lastDate}`;\n    },\n    includesAll(arr, values) {\n      return values.every(v => arr.includes(v))\n    },\n    selectAllChanged() {\n      if (this.selectAllCourts) {\n        this.selectedCourts = this.courtTypeOptions.map(option => option.name);\n      } else {\n        this.selectedCourts = [];\n      }\n    },\n    selectSupremeCourtsChanged() {\n      this.updateSelection(this.selectSupremeCourts, this.supremeCourtValues)\n    },\n    selectDistrictCourtsChanged() {\n      this.updateSelection(this.selectDistrictCourts, this.districtCourtValues)\n    },\n    updateSelection(isSelected, courtValues) {\n      if (isSelected) {\n        this.selectedCourts = [...new Set([...this.selectedCourts, ...courtValues])]\n      } else {\n        this.selectedCourts = this.selectedCourts.filter(name => !courtValues.includes(name))\n      }\n    },\n    initializeCourt() {\n      this.supremeCourtValues = this.courtTypeOptions\n        .filter(option => option.name.includes('高等法院'))\n        .map(option => option.name)\n\n      this.districtCourtValues = this.courtTypeOptions\n        .filter(option => option.name.includes('地方法院'))\n        .map(option => option.name)\n    },\n    initializeForm(){\n      this.formData.court_type = this.courtTypeOptions.map(option => option.name).join(' ')\n      this.civilFormData.court_type = this.courtTypeOptions.map(option => option.name).join(' ')\n    },\n    onSubmit() {\n      // TODO: delete this function\n      console.log('Submitted', this.formData);\n    },\n    advanceSearch(type) {\n      let formData;\n      let queryParams = {}\n      let allFieldsValid = true\n      \n      if (type == 'civil') {\n        formData = this.civilFormData\n      }\n      else if (type == 'criminal') {\n        formData = this.formData\n      }\n      formData.searchFields.forEach((field) => {\n        if (field.required && field.query === '') {\n          this.$message({\n            message: '請輸入判決書的見解/心證/涵攝關鍵字',\n            type: 'warning'\n          })\n          allFieldsValid = false;\n        } else {\n          queryParams[field.name] = field.query\n        }\n      });\n\n      // Stop execution if any required field is empty\n      if (!allFieldsValid) {\n        return;\n      }\n\n      // Add courtType and refereeDate to queryParams\n      formData.court_type = this.selectedCourts.join(' ')\n      formData.refereeDate = this.dateFormat()\n      queryParams.court_type = formData.court_type\n      queryParams.jud_date = formData.refereeDate\n      queryParams.jud_type = type\n\n      // Use Vue Router to navigate with constructed query parameters\n      this.$router.push({ path: '/search-result', query: queryParams })\n    }\n  }\n}\n</script>\n\n\n<style>\n.intro-containter {\n  padding: 10px 20px;\n  background-color: aliceblue;\n}\n.smartphone-message {\n  display: none;\n  background-color: #f8d7da;\n  color: #721c24;\n  padding: 10px;\n  margin: 10px 0;\n  border: 1px solid #f5c6cb;\n  border-radius: 5px;\n  text-align: center;\n}\n.select-court-container {\n  height: 50vh;\n  overflow: auto;\n  overflow-x: hidden;\n}\n.form-check-input {\n  width: 20px !important;\n  height: 20px !important;\n  border-radius: 24px !important;\n  line-height: 40px;\n}\n.form-check-container {\n  margin: 5px 0;\n}\n.form-check-label {\n  width: 250px;\n  text-align: center;\n  cursor: pointer;\n}\n.form-instruction {\n  text-align: left;\n  color: #e15151;\n  font-size: 0.9em;\n  line-height: 1.5em;\n  margin-bottom: 20px;\n}\n\n.custom-brightblue{\n  padding: 20px !important;\n  background-color: #0d99ff !important;\n  border-color: #0a7acc !important;\n}\n\n.custom-brightblue:hover {\n  background-color: #24a2fb !important;\n}\n\n.custom-purlpe {\n  padding: 10px 20px !important;\n  background-color: #9747FF !important;\n  border-color: #9747FF !important;\n}\n.custom-purlpe:hover {\n  background-color: #a05df7 !important;\n}\n.custom-light-purple {\n  background-color: #F9F5F9 !important;\n}\n\n.pointer {\n  cursor: pointer;\n}\n\n.flex-container {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n\n.flex-row {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.flex-column {\n  flex: 1;\n  line-height: 30px;\n  padding: 10px 30px;\n}\n.header .flex-column {\n  font-weight: bold;\n  background-color: #000;\n  color: #fff;\n}\n\n.form-control {\n  width: 100%;\n  box-sizing: border-box;\n  background-color: #fff;\n}\n\n.radio-group {\n  display: flex;\n  flex-direction: column;\n}\n\n.form-check-label {\n  margin-left: 10px;\n  text-align: left;\n}\n\n.flex-column .btn {\n  float: right;\n}\n\n.check-court-container {\n  margin-bottom: 10px;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n}\n.check-court-container .check-court-option {\n  margin: 0 5px;\n}\n.checkbox-label {\n  display: inline-block;\n  padding: 5px 10px;\n  background-color: white;\n  border: 1px solid #454545; /* Optional: to visually denote clickable area */\n  cursor: pointer;\n  border-radius: 2px;\n}\n@media (max-width: 768px) {\n  .smartphone-message {\n    display: block;\n  }\n  .select-court-container {\n    height: 4rem;\n  }\n  .flex-column {\n    padding: 10px 20px;\n    flex-wrap: wrap;\n    min-width: 200px;\n  }\n  .flex-row {\n    flex-direction: column;\n  }\n}\n@media (max-width: 346px) {\n  .check-court-container {\n    flex-wrap: wrap;\n  }\n  .checkbox-label {\n    width: 90vw;\n    text-align: center;\n  }\n}\n\n.dp__input {\n  border: none !important;\n  background-color: #fff0 !important;\n}\n\n\n.hidden-checkbox {\n  position: absolute;\n  left: -9999px; /* Move it off-screen */\n}\n\n.hidden-checkbox:checked + .checkbox-label {\n  background-color: black;\n  color: white;\n}\n</style>\n","import { render } from \"./SearchView.vue?vue&type=template&id=1684513f\"\nimport script from \"./SearchView.vue?vue&type=script&lang=js\"\nexport * from \"./SearchView.vue?vue&type=script&lang=js\"\n\nimport \"./SearchView.vue?vue&type=style&index=0&id=1684513f&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"container result-page-container\" v-loading=\"loading[prediction_type]\">\n    <!-- First Row: Search Query and Statistical Results -->\n    <div class=\"row\">\n      <div class=\"col-md-8\">\n        <div class=\"fw-bolder my-1 py-1\">{{jud_name}}案件搜尋條件</div>\n        <div>\n          <div class=\"d-flex flex-wrap\">\n            <div class=\"condition-block\" v-for=\"info in conditionInfo\" :key=\"info\">{{ getConditionInfo(info) }}</div>\n          </div>\n        </div>\n        <div>\n        <div style=\"width:40%;\">\n          <el-input\n            v-model=\"advancedKeyword\"\n            placeholder=\"輸入進階關鍵字\"\n            class=\"my-2\"\n            size=\"large\"\n            clearable\n            @clear=\"performAdvancedSearch\"\n            @keyup.enter=\"performAdvancedSearch\">\n          </el-input>\n          <button @click=\"performAdvancedSearch\" class=\"btn btn-primary\">\n            搜尋\n          </button>\n        </div>\n      </div>\n      </div>\n      <div class=\"col-md-4 my-2\">\n        <div class=\"fw-bolder my-1 py-1\">{{jud_name}}案件查詢結果(最多顯示近期的50筆資料)</div>\n        <div v-if=\"jud_type != 'civil'\">\n          <el-radio-group v-model=\"prediction_name\" size=\"large\">\n            <el-radio\n              v-for=\"(pred) in pred_options\"\n              :key=\"pred.value\"\n              :label=\"pred.name\"\n              border\n              style=\"margin: 5px 5px;\"\n              :disabled=\"loading[pred.value]\"\n            >\n              <div style=\"display: flex; align-items: center;\">\n                <span v-if=\"pred.value != 'other_opinion'\"> {{ pred.name }} {{ resultCount[pred.value] }}</span>\n                <span v-else>( {{ pred.name }} )</span>\n                <el-icon v-if=\"loading[pred.value]\" style=\"margin-left: 8px;\" class=\"is-loading\">\n                  <Loading />\n                </el-icon>\n              </div>\n            </el-radio>\n          </el-radio-group>\n        </div>\n        <div v-else class=\"non-selectable-radio\">\n          {{ pred_options[2].name }} {{ resultCount['opinion'] }}\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"custom-table-container\">\n      <!-- 裁判資訊 Table -->\n      <table class=\"table table-bordered custom-adjust-table\">\n        <thead>\n          <tr class=\"text-center\">\n            <th class=\"custom-blue\">序號</th>\n            <template v-for=\"field in searchFields\" :key=\"field.name\">\n              <th class=\"custom-blue\" v-if=\"checkQueryEnable(field.name)\">{{ field.type }}</th>\n            </template>\n          </tr>\n        </thead>\n        <tbody v-if=\"searchResults[prediction_type]\">\n          <!-- 見解 -->\n          <template v-if=\"prediction_type == 'other_opinion' && jud_type == 'criminal'\">\n            <tr v-for=\"(item, index) in sortedSearchResults\" :key=\"index\">\n              <!-- Index Column -->\n              <td style=\"text-align: center; background-color: #BDE3FF; border: #97B6CC 1px solid;\" \n                  :data-label=\"'序號'\">{{ parseInt(index) + 1 }}</td>\n              <!-- Case Details Columns: Using the first jud data in each group -->\n              <template v-for=\"field in searchFields\" :key=\"field.name\">\n                <td v-if=\"checkQueryEnable(field.name)\" :data-label=\"field.type\" :style=\"getColumnWidth(field.name)\">\n                  <template v-if=\"field.name == 'case_num'\">\n                    <a :href=\"item.group[0].jud_url\" target=\"_blank\">{{ item.group[0].case_num }}</a>\n                  </template>\n                  <template v-else-if=\"field.name == 'jud_date'\">\n                    {{ formatDate(item.group[0].jud_date) }}\n                  </template>\n                  <template v-else-if=\"field.name == 'other_opinion'\">\n                    <!-- Group Length Column: Added with hyperlink -->\n                    <div class=\"other_opinion_selector\">\n                      <a @click=\"openGroupDialog(item.group)\">{{ item.group_length }}</a>\n                    </div>\n                  </template>\n                  <template v-else>\n                    <p style=\"color: rgb(138, 138, 138);\" v-if=\"item.group[0][field.name] == null\">無</p>\n                    <p v-else-if=\"(item.group[0][field.name].length > maxTextLength || (item.group[0][field.name].match(/\\n/g) || []).length > 5)\" \n                        class=\"mytooltip custom-overflow-column\" \n                        @click=\"openDialog(addHighlighter(field.name, item.group[0][field.name]))\">\n                      <span v-html=\"addHighlighter(field.name, item.group[0][field.name].substr(0,250))\"></span>...more\n                      <span class=\"tooltiptext\">點擊閱讀全文</span>\n                    </p>\n                    <p v-else v-html=\"addHighlighter(field.name, item.group[0][field.name])\"></p>\n                  </template>\n                </td>\n              </template>\n            </tr>\n          </template>\n\n          <!-- 非見解 -->\n          <template v-else>\n            <tr v-for=\"(item, index) in sortedSearchResults\" :key=\"index\">\n            <td style=\"text-align: center;background-color: #BDE3FF;border: #97B6CC 1px solid;\" :data-label=\"'序號'\">{{ parseInt(index) + 1 }}</td>\n            <template v-for=\"field in searchFields\" :key=\"field.name\" >\n              <td v-if=\"checkQueryEnable(field.name)\" :data-label=\"field.type\" :style=\"getColumnWidth(field.name)\">\n                <template v-if=\"field.name == 'case_num'\">\n                  <a :href=\"item['jud_url']\" target=\"_blank\">{{ item['case_num'] }}</a>\n                </template>\n                <template v-else-if=\"field.name == 'jud_date'\">\n                  {{ formatDate(item['jud_date']) }}\n                </template>\n                <template v-else>\n                  <p style=\"color:rgb(138, 138, 138);\" v-if=\"item[field.name] == null\">無</p>\n                  <p v-else-if=\"(item[field.name].length > maxTextLength || (item[field.name].match(/\\n/g) || []).length > 5)\" class=\"mytooltip custom-overflow-column\" @click=\"openDialog(addHighlighter(field.name, item[field.name]))\">\n                    <span  v-html=\"addHighlighter(field.name, item[field.name].substr(0,250))\"></span>...more\n                    <span class=\"tooltiptext\">點擊閱讀全文</span>\n                  </p>\n                  <p v-else v-html=\"addHighlighter(field.name, item[field.name])\"></p>\n                </template>\n              </td>\n            </template>\n          </tr>\n          </template>\n          \n          <tr v-if=\"searchResults.length == 0\">\n            <td class=\"no-found-cell\" colspan=\"8\">查無資料\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <!-- el-dialog for displaying other jud info in the group -->\n      <el-dialog v-model=\"isGroupDialogVisible\" width=\"80%\" title=\"類似見解\">\n        <table class=\"table table-bordered custom-adjust-table\">\n          <thead>\n            <tr class=\"text-center\">\n              <!-- <th v-for=\"field in otherSearchFields\" :key=\"field.name\" class=\"custom-blue\">{{ field.type }}</th> -->\n              <th class=\"custom-blue\">序號</th>\n              <template v-for=\"field in otherSearchFields\" :key=\"field.name\">\n                <th class=\"custom-blue\">{{ field.type }}</th>\n              </template>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(groupItem, groupIndex) in selectedGroup\" :key=\"groupIndex\">\n\n              <!-- Index Column -->\n              <td style=\"text-align: center; background-color: #BDE3FF; border: #97B6CC 1px solid;\" \n                  :data-label=\"'序號'\">{{ groupIndex + 1 }}</td>\n\n              <td v-for=\"field in otherSearchFields\" :key=\"field.name\" :data-label=\"field.type\">\n                <template v-if=\"field.name == 'case_num'\">\n                  <a :href=\"groupItem.jud_url\" target=\"_blank\">{{ groupItem.case_num }}</a>\n                </template>\n                <template v-else-if=\"field.name == 'jud_date'\">\n                  {{ formatDate(groupItem.jud_date) }}\n                </template>\n                <template v-else>\n                  <p style=\"color: rgb(138, 138, 138);\" v-if=\"groupItem[field.name] == null\">無</p>\n                  <p v-else v-html=\"addHighlighter(field.name, groupItem[field.name])\"></p>\n                </template>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </el-dialog>\n\n      <el-dialog\n        v-model=\"dialogVisible\"\n        width=\"60%\"\n        style=\"max-height: 80vh; min-width: 200px;overflow: auto;\"\n        :before-close=\"handleClose\"\n      >\n        <span v-html=\"dialogText\"></span>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { Loading } from '@element-plus/icons-vue';\n\nexport default {\n  components: {\n    Loading,\n  },\n  data() {\n    return {\n      loading: {\n        fee: false,\n        sub: false,\n        opinion: false,\n      },\n      mode: 'default', // default, sentence_kind\n      params: {},\n      jud_type: '',\n      jud_name: '',\n      searchFields: {\n        court_type: { type: '法院', name: 'court_type' },\n        case_num: { type: '案號', name: 'case_num' },\n        jud_date: { type: '日期', name: 'jud_date' },\n        case_type: { type: '案件別', name: 'case_type' },\n        basic_info: { type: '當事人等基本資料', name: 'basic_info' },\n        syllabus: { type: '主文', name: 'syllabus' },\n        fee: { type: '心證', name: 'fee' },\n        sub: { type: '涵攝', name: 'sub' },\n        opinion: { type: '見解', name: 'opinion' },\n        other_opinion: { type: '類似見解筆數', name: 'other_opinion' },\n      },\n      otherSearchFields: {\n        case_num: { type: '案號', name: 'case_num' },\n        jud_date: { type: '日期', name: 'jud_date' },\n        opinion: { type: '見解', name: 'opinion' },\n      },\n      courtTypeOptions: [\n        { name: '最高法院', value: 'zgf' },\n        { name: '臺灣高等法院', value: 'twgdfy' },\n        { name: '智慧財產及商業法院', value: 'zhccjsyfy' },\n        { name: '臺灣高等法院臺中分院', value: 'twgdfytcfy' },\n        { name: '臺灣高等法院臺南分院', value: 'twgdfytnfy' },\n        { name: '臺灣高等法院高雄分院', value: 'twgdfykxfy' },\n        { name: '臺灣高等法院花蓮分院', value: 'twgdfyhlfy' },\n        { name: '福建高等法院金門分院', value: 'fjgdfyjmfy' },\n        { name: '臺灣臺北地方法院', value: 'twtbdfy' },\n        { name: '臺灣新北地方法院', value: 'twxbdfy' },\n        { name: '臺灣士林地方法院', value: 'twslgdfy' },\n        { name: '臺灣桃園地方法院', value: 'twtydfy' },\n        { name: '臺灣新竹地方法院', value: 'twxzdfy' },\n        { name: '臺灣苗栗地方法院', value: 'twmldfy' },\n        { name: '臺灣臺中地方法院', value: 'twtcdfy' },\n        { name: '臺灣南投地方法院', value: 'twntdfy' },\n        { name: '臺灣彰化地方法院', value: 'twzhdfy' },\n        { name: '臺灣雲林地方法院', value: 'twyldfy' },\n        { name: '臺灣嘉義地方法院', value: 'twjydfy' },\n        { name: '臺灣臺南地方法院', value: 'twtndfy' },\n        { name: '臺灣高雄地方法院', value: 'twkxdfy' },\n        { name: '臺灣橋頭地方法院', value: 'twqtdfy' },\n        { name: '臺灣屏東地方法院', value: 'twptdfy' },\n        { name: '臺灣臺東地方法院', value: 'twtdgdfy' },\n        { name: '臺灣花蓮地方法院', value: 'twhldfy' },\n        { name: '臺灣宜蘭地方法院', value: 'twyldfy' },\n        { name: '臺灣基隆地方法院', value: 'twjldfy' },\n        { name: '臺灣澎湖地方法院', value: 'twphdfy' },\n        { name: '福建金門地方法院', value: 'fjjmdfy' },\n        { name: '福建連江地方法院', value: 'fjljdfy' },\n      ],\n      supremeCourtValues: [],\n      districtCourtValues: [],\n      searchResults: {},\n      resultCount: {},\n      pageDetail: {\n        page: 1,\n        size: 50,\n        next_page_url: null,\n        previous_page_url: null,\n        total_pages: null,\n        total: null,\n      },\n      conditionInfo: [],\n      maxTextLength: 250,\n      isGroupDialogVisible: false,\n      selectedGroup: [],\n      dialogVisible: false,\n      dialogText: '',\n      prediction_type: 'opinion',\n      prediction_name: '見解',\n      pred_options: [\n        { value: 'fee', name: '心證' },\n        { value: 'sub', name: '涵攝' },\n        { value: 'opinion', name: '見解' },\n        { value: 'other_opinion', name: '類似見解整理'}\n      ],\n      sortedSearchResults: {},\n      advancedKeyword: '',\n      highAdvancedKeyword: ''\n    };\n  },\n  created() {\n    this.initParams();\n    this.initializeCourt();\n    this.fetchAllData();\n  },\n  mounted() {\n    if (this.searchResults[this.prediction_type]) {\n      this.sortedSearchResults = {...this.searchResults[this.prediction_type].data};\n    }\n  },\n  watch: {\n    prediction_name(newName) {\n      const selectedOption = this.pred_options.find((pred) => pred.name === newName);\n      this.prediction_type = selectedOption ? selectedOption.value : '';\n    },\n    prediction_type(newValue) {\n      if (this.searchResults[newValue]) {\n        this.updateConditionInfo();\n        this.sortedSearchResults = {...this.searchResults[this.prediction_type].data};\n        this.pageDetail = this.searchResults[newValue].meta;\n      }\n    }\n  },\n  methods: {\n    performAdvancedSearch() {\n      if (!this.advancedKeyword) {\n        this.highAdvancedKeyword = this.advancedKeyword;\n        this.sortedSearchResults = {...this.searchResults[this.prediction_type].data}; // Reset if no keyword\n        return;\n      }\n      this.highAdvancedKeyword = this.advancedKeyword;\n      const flattenObject = (obj) => {\n        const result = [];\n        const recurse = (cur, prop) => {\n          if (typeof cur === 'object' && cur !== null) {\n            for (const key in cur) {\n              recurse(cur[key], prop ? `${prop}.${key}` : key);\n            }\n          } else {\n            result.push(String(cur)); // Add values as strings\n          }\n        };\n        recurse(obj, '');\n        return result;\n      };\n\n      const containsKeyword = (obj) => {\n        const values = flattenObject(obj);\n        return values.some((value) =>\n          value.includes(this.advancedKeyword)\n        );\n      };\n\n      const matchedResults = this.searchResults[this.prediction_type].data.filter((result) =>\n        containsKeyword(result)\n      );\n\n      this.sortedSearchResults = [...matchedResults];\n    },\n    getColumnWidth(name) {\n      const widths = {\n        basic_info: 'min-width: 260px;',\n        jud_date: 'min-width: 90px;',\n        case_type: 'min-width: 125px;',\n        case_num: 'min-width: 90px;',\n        syllabus: 'min-width: 125px;',\n        other_opinion: 'min-width: 80px;',\n      };\n      return widths[name] || 'min-width: 200px;';\n    },\n    openGroupDialog(group) {\n      this.selectedGroup = group;\n      this.isGroupDialogVisible = true;\n    },\n    openDialog(content) {\n      this.dialogVisible = true;\n      this.dialogText = content;\n    },\n    handleClose() {\n      this.dialogVisible = false;\n    },\n    checkQueryEnable(name) {\n      if (name === 'court_type') return false;\n      if (name === 'basic_info' && !this.params.basic_info) return false;\n      if (['case_type', 'syllabus'].includes(name) && this.jud_type === 'civil') return false;\n      if (['fee', 'sub'].includes(name)) return this.prediction_type === name;\n      if (['opinion'].includes(name)) return this.prediction_type === name || this.prediction_type === 'other_opinion';\n      if (name === 'other_opinion') return this.prediction_type === 'other_opinion' && this.jud_type === 'criminal';\n      return true;\n    },\n    handlePageSize(size) {\n      this.pageDetail.size = size;\n      this.pageDetail.page = 1;\n      this.fetchAllData();\n    },\n    handlePageChange(page) {\n      this.pageDetail.page = page;\n      this.fetchAllData();\n    },\n    formatDate(dateStr) {\n      const year = parseInt(dateStr.substring(0, 4), 10);\n      const month = parseInt(dateStr.substring(4, 6), 10);\n      const day = parseInt(dateStr.substring(6, 8), 10);\n      const minguoYear = year - 1911;\n      return `民國${minguoYear}年${month}月${day}日`;\n    },\n    convertDateString(input) {\n      const [startDate, endDate] = input.split('-');\n      const formattedStartDate = this.formatDate(startDate);\n      const formattedEndDate = this.formatDate(endDate);\n      return `起${formattedStartDate} - 迄${formattedEndDate}`;\n    },\n    getConditionInfo(info) {\n      const field = this.searchFields[info[0]];\n      if (!field) return '';\n      if (field.name === 'jud_date') {\n        return `${field.type || ''}:  ${this.convertDateString(info[1])}`;\n      } else if (field.name === 'court_type') {\n        let searchCourts = info[1].split(' ');\n        this.selectAllCourts = searchCourts.length === this.courtTypeOptions.length;\n        this.selectDistrictCourts = this.includesAll(searchCourts, this.districtCourtValues);\n        this.selectSupremeCourts = this.includesAll(searchCourts, this.supremeCourtValues);\n\n        if (this.selectAllCourts) {\n          return `${field.type || ''}: 所有法院`;\n        }\n\n        let simplifyCourts = [...searchCourts];\n        if (this.selectDistrictCourts) {\n          simplifyCourts = simplifyCourts.filter((el) => !this.districtCourtValues.includes(el));\n          simplifyCourts.unshift('所有地方法院');\n        }\n        if (this.selectSupremeCourts) {\n          simplifyCourts = simplifyCourts.filter((el) => !this.supremeCourtValues.includes(el));\n          simplifyCourts.unshift('所有高等法院');\n        }\n        return `${field.type || ''}: ${simplifyCourts.join(', ')}`;\n      } else {\n        return `${field.type || ''}:  ${info[1]}`;\n      }\n    },\n    addHighlighter(fieldName, rawData) {\n      let keywords = null;\n      let advanced_keyword = this.highAdvancedKeyword;\n      if (Array.isArray(this.conditionInfo)) {\n        this.conditionInfo.forEach((condition) => {\n          if (condition[0] === fieldName) {\n            keywords = condition[1];\n          }\n        });\n      } else {\n        // Log or handle the situation when conditionInfo is not an array\n        console.warn('conditionInfo is not an array:', this.conditionInfo);\n      }\n\n      let result = rawData;\n      if (keywords) {\n        keywords.split(' ').forEach((keyword) => {\n          result = result.replace(keyword, `<span class=\"highlighter-my\">${keyword}</span>`);\n        });\n      }\n      if (advanced_keyword) {\n        result = result.replace(advanced_keyword, `<span class=\"highlighter-advance\">${advanced_keyword}</span>`);\n      }\n      result = result.replace(/\\n+/g, '<br>').replace(/<br>$/, '');\n      return result;\n    },\n    removeEmptyStringValues(obj) {\n      Object.keys(obj).forEach((key) => {\n        if (obj[key] === '') {\n          delete obj[key];\n        }\n      });\n      return obj;\n    },\n    includesAll(arr, values) {\n      return values.every((v) => arr.includes(v));\n    },\n    initializeCourt() {\n      this.supremeCourtValues = this.courtTypeOptions\n        .filter((option) => option.name.includes('高等法院'))\n        .map((option) => option.name);\n\n      this.districtCourtValues = this.courtTypeOptions\n        .filter((option) => option.name.includes('地方法院'))\n        .map((option) => option.name);\n    },\n    initParams() {\n      const urlParams = new URLSearchParams(window.location.search);\n\n      this.params = {\n        search_method: 'keyword',\n        page: 1,\n        size: this.pageDetail.size,\n        court_type: urlParams.get('court_type') || '',\n        case_type: urlParams.get('case_type') || '',\n        jud_date: urlParams.get('jud_date') || '',\n        basic_info: urlParams.get('basic_info') || '',\n        syllabus: urlParams.get('syllabus') || '',\n        prediction: urlParams.get('prediction') || '',\n      };\n      this.jud_type = urlParams.get('jud_type');\n      this.jud_name = this.jud_type === 'civil' ? '民事' : '刑事';\n      this.params = this.removeEmptyStringValues(this.params);\n    },\n    async fetchDataForType(type) {\n      this.loading[type] = true;\n\n      const params = { ...this.params };\n      let query_type = type;\n\n      params.page = this.pageDetail.page;\n      params.size = this.pageDetail.size;\n\n      if (type === 'opinion') {\n        params.prop = 'none';\n      }\n      else if (type === 'other_opinion') {\n        params.prop = 'high';\n        query_type = 'opinion';\n      }\n\n      const api_url = `https://hssai-verdictdb.phys.nthu.edu.tw/api/${this.jud_type}/${query_type}`;\n\n      // Create a unique cache key based on the URL and parameters\n      const cacheKey = `${api_url}?${new URLSearchParams(params).toString()}`;\n\n      // Check localStorage for cached data\n      const cachedData = localStorage.getItem(cacheKey);\n      if (cachedData) {\n        const { data, expiry } = JSON.parse(cachedData);\n\n        // Check if the cache is still valid\n        if (Date.now() < expiry) {\n          console.log('Returning cached data for:', cacheKey);\n          this.searchResults[type] = data;\n          this.resultCount[type] = this.getCountByName(query_type);\n          this.updateConditionInfo();\n          this.loading[type] = false;\n          return;\n        } else {\n          // Remove expired cache\n          localStorage.removeItem(cacheKey);\n        }\n      }\n\n      try {\n        const response = await axios.get(api_url, {\n          headers: {\n            'ngrok-skip-browser-warning': '69420',\n          },\n          params,\n        });\n\n        const apiResponse = response.data;\n\n        // Save the response to localStorage with an expiry time of 1 hour\n        const oneDayInMs = 60 * 60 * 1000;\n        localStorage.setItem(\n          cacheKey,\n          JSON.stringify({\n            data: apiResponse[query_type],\n            expiry: Date.now() + oneDayInMs,\n          })\n        );\n\n        // Update the component's state\n        this.searchResults[type] = apiResponse[query_type];\n        this.resultCount[type] = this.getCountByName(query_type);\n        this.sortedSearchResults = {...this.searchResults[this.prediction_type].data};\n        this.updateConditionInfo();\n      } catch (error) {\n        console.error(`Error fetching data for ${type}:`, error);\n      } finally {\n        this.loading[type] = false;\n      }\n    },\n    async fetchAllData() {\n      let predictionTypes = [];\n\n      if (this.jud_type === 'civil') {\n        predictionTypes = ['opinion'];\n        this.prediction_type = 'opinion';\n        this.prediction_name = '見解';\n      } else {\n        predictionTypes = ['fee', 'sub', 'opinion', 'other_opinion'];\n        if (!this.prediction_type) {\n          this.prediction_type = 'opinion';\n          this.prediction_name = '見解';\n        }\n      }\n\n      try {\n        await Promise.all(\n          predictionTypes.map((type) => this.fetchDataForType(type))\n        );\n      } catch (error) {\n        console.error('There was an error!', error);\n      }\n    },\n    getCountByName(type) {\n      let name = this.pred_options.find((option) => option.value === type).name\n\n      if (!this.searchResults[type]) {\n        return null;\n      }\n      const item = this.searchResults[type].summary.find((entry) => entry.name === name);\n      const jud_count = this.searchResults[type].summary[0]?.count;\n\n      if (item && jud_count) {\n        return `共計 ${item.count} 筆 從 ${jud_count} 篇裁判書`;\n      }\n      return null;\n    },\n    updateConditionInfo() {\n      if (this.searchResults[this.prediction_type]) {\n        const conditionInfo = this.searchResults[this.prediction_type].condition_info.available;\n        this.conditionInfo = Array.isArray(conditionInfo) ? conditionInfo : [];\n        this.pageDetail = this.searchResults[this.prediction_type].meta;\n      } else {\n        this.conditionInfo = [];\n      }\n    },\n  },\n};\n</script>\n\n\n<style>\n.tooltiptext .highlighter-my {\n  background-color: rgb(170, 116, 8);\n}\n.highlighter-my {\n  background-color: yellow;\n}\n.highlighter-advance {\n  background-color: rgb(255, 116, 141);\n}\n.custom-pagination .el-pagination {\n  display: flex;\n  justify-content: center;\n}\n\n@media (max-width: 768px) {\n  .custom-pagination .el-pagination {\n    font-size: 12px;\n  }\n\n  .custom-pagination .el-pagination .el-pager li {\n    padding: 0 4px;\n    min-width: 22px;\n  }\n\n  .custom-pagination .el-pagination__sizes,\n  .custom-pagination .el-pagination__total {\n    display: none;\n  }\n\n  .custom-pagination .el-pagination__prev,\n  .custom-pagination .el-pagination__next {\n    padding: 0 6px;\n  }\n}\n\n</style>\n\n<style scoped>\n.btn-light-green {\n  background-color: #14AE5C !important;\n  color: #fff !important;\n  border: #0d8a47 1px solid !important;\n  padding: 10px 30px !important;\n  font-weight: bolder;\n}\n.custom-gray {\n  background-color: #D7D7D7;\n  border: #ACACAC 1px solid !important;\n}\n.custom-blue {\n  background-color: #BDE3FF !important;\n  border: #97B6CC 1px solid !important;\n}\n.table {\n    margin: 0px !important;\n}\n\n@media (max-width: 768px) {\n  .custom-adjust-table, .custom-adjust-table thead, .custom-adjust-table tbody, .custom-adjust-table th, .custom-adjust-table td, .custom-adjust-table tr {\n    display: block;\n  }\n\n  .custom-adjust-table thead tr {\n    position: absolute;\n    top: -9999px;\n    left: -9999px;\n  }\n\n  .custom-adjust-table tr { border: 1px solid #ccc; }\n\n  .custom-adjust-table td {\n    border: none;\n    border-bottom: 1px solid #eee;\n    position: relative;\n    padding-left: 25%;\n    text-align: left;\n  }\n\n  .custom-adjust-table td:before {\n    position: absolute;\n    top: 6px;\n    left: 6px;\n    width: 45%;\n    padding-right: 10px;\n    white-space: nowrap;\n    content: attr(data-label);\n    font-weight: bold;\n    text-align: left;\n  }\n}\n\n\n.mytooltip {\n  position: relative;\n  cursor: pointer;\n}\n\n.mytooltip .tooltiptext {\n  visibility: hidden;\n  width: 120px;\n  background-color: black;\n  color: #fff;\n  text-align: center;\n  border-radius: 6px;\n  padding: 5px 10px;\n\n  /* Position the tooltip */\n  position: absolute;\n  z-index: 1 !important;\n}\n\n.mytooltip:hover .tooltiptext {\n  visibility: visible;\n}\n\n.no-found-cell {\n  background-color: #fff;\n  text-align: center;\n}\n.custom-overflow-column > span {\n  display: -webkit-box;\n  -webkit-line-clamp: 8;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n.pagination-container {\n  padding: 10px 0;\n  max-width: 100vw;\n}\n.condition-block {\n  margin: 3px 5px;\n  padding: 3px 5px;\n  background-color: #e7e7e7;\n  border: 1px solid #ccc;\n}\n.non-selectable-radio {\n  margin: 10px 0;\n  padding: 10px 20px;\n  border-radius: 8px;\n  width: fit-content;\n  border: 1px solid #c4c4c4;\n  font-size: 0.9rem;\n  color: #4e4e4e;\n}\n.other_opinion_selector{\n  text-align: center;\n  text-decoration: underline;\n  width: 100%;\n  cursor: pointer;\n  font-weight: bolder;\n  color: #0a60ac;\n}\n.is-loading {\n  animation: rotating 2s linear infinite;\n}\n\n@keyframes rotating {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n</style>","import { render } from \"./SearchResult.vue?vue&type=template&id=d7f7108e&scoped=true\"\nimport script from \"./SearchResult.vue?vue&type=script&lang=js\"\nexport * from \"./SearchResult.vue?vue&type=script&lang=js\"\n\nimport \"./SearchResult.vue?vue&type=style&index=0&id=d7f7108e&lang=css\"\nimport \"./SearchResult.vue?vue&type=style&index=1&id=d7f7108e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d7f7108e\"]])\n\nexport default __exports__","<template>\n    <h2 class=\"page-title\">使用說明與技術簡介</h2>\n<div class=\"container mt-4\">\n    <div class=\"intro-title\">一、使用方式：</div>\n<ol>\n    <li>先於首頁左側欄位點選所需要查詢的判決書範圍，包括法院與日期。</li>\n    <li>於右側欄位中選擇要查詢的資料類別(如案件別、當事人基本資料、主文、全文、還是法官的見解、心證或涵攝文字(三選一))，並輸入關鍵字。</li>\n    <li>輸入完按右下方「開始搜尋」鍵。</li>\n    <li>結果呈現的欄位會依搜尋的內容呈現相關的判決書或資料，依照日期由新往舊排列。見解、心證或涵攝文字超過150字的部分會以「…」截斷。游標移至該文字上方即可出現該段全文。</li>\n    <li>若要進一步查詢判決書原文，可由案號的超連結點入司法院的裁判書系統直接閱讀該篇判決。</li>\n</ol>\n<div class=\"intro-title\">二、案件別與當事人基本資料的定義</div>\n<p>本系統中的「案件別」是來自緊鄰判決書主文之前的那段文字，是關於此案件的分類方式。由於目前所知此分類方式尚無完全統一的格式，所以此處僅依所擷取到的判決書文字來做搜尋的對象，不能排除可能有所遺漏或標示不足之處。以圖一為例，即為紅色框中的「傷害案件」。</p>\n<p>本系統所稱的基本資訊是指自判決書第一個字開始到理由項內文以上，通常包含案號、被告、辯護人、自訴人等等資料，如圖一紫色框的範圍。</p>\n<div :style=\"backgroundStyle\" class=\"insert-img\"></div>\n<div class=\"intro-title\">三、見解、心證與涵攝的定義</div>\n<p><strong>1. 見解資料的定義與價值</strong>：</p>\n<p>本系統中的見解資料定義為：「<strong>闡述與案件有關的法律抽象概念，或釐清二個以上抽象概念之間的關聯性之文字說明。</strong>」。見解資料的價值在於了解實務上法院對於特定法律概念的內涵或性質做進一步剖析，藉此可更了解法院對於特定概念文義背後的看法，一般而言亦可作為相關法學三段推論的大前提(見表一)。因此，若僅是闡述事實發生的順序、法條文字、特定形式的文字敘述，或其它無上述性質的文本均非本研究所指的見解資料。</p>\n<p>以下為一個典型的範例：</p>\n<p>最高法院,110,台上,1352號</p>\n<div class=\"DF-font\">\n    <p>「…前者學理上謂為意欲主義，後者謂為容認主義，但不論其為「明知」或「預見」，皆為故意犯主觀上之認識，只是認識程度強弱有別，行為人有此認識進而有「使其發生」或「任其發生」之意，則形成犯意，前者為確定故意（直接故意），後者為不確定故意（間接故意或未必故意），但不論其為確定故意或不確定故意，不確定故意應具備構成犯罪事實的認識，與確定故意並無不同…」</p>\n</div>\n<p><strong>2. 心證資料的定義與價值</strong>：</p>\n<p>本系統中的心證資料定義為：「<strong>對於具體主張或相關證據的取捨理由，並藉此形成事實認定或採信過程之文字說明</strong>」。心證資料的價值在於讓人民了解法院在遇到有雙方爭執的事項時，對於雙方對立的主張與證據法院如何論述何者證據價值較高，應採信何者的過程。一般而言，可以是惟法學三段推論的小前提(見表一)。因此，心證資料必須包含法院論述如何為證據取捨的說明。若僅是提及知悉來源，並無就雙方對立提出的證據與主張來說明如何採納，則該資料並非屬於本系統的心證資料。</p>\n<p>以下為一個典型的範例：</p>\n<p>士林地院,109,金訴,161號</p>\n<div class=\"DF-font\">\n    <p>「…㈢被告壬○○固辯稱：是幫甲○○替一位大陸地區人士收貨款，甲○○保證錢是乾淨的等語，然壬○○不知該大陸人士之身分，亦不知其收取金錢對象之實際身份，僅因替甲○○收取款項，即可取得每日2500至4000元之報酬云云（臺南市政府警察局歸仁分局刑案偵察卷第35至37頁、本院卷二第101、469頁），已與一般工作事務之情節有異，又被告壬○○於偵查中陳稱：曾替甲○○至臺北鶯歌、臺中、臺南、高雄等地收款等語（中檢109少連偵219卷第77至81頁），然甲○○之大陸客戶縱有不便親自收受貨款之情事，其請廠商使用網路、手機軟體為轉帳、匯款亦無困難，然竟捨此不用，反間接委託被告壬○○遠赴臺北、臺中、臺南、高雄等地取款，顯然無端浪費車資、人工費用等支出，與民間一般收取貨款之情形有違，實足啟人疑竇，況被告壬○○於本案前曾因出借帳戶予被告甲○○交予某名稱「費洋」之大陸地區人士作為收取貨款使用，因該帳戶涉嫌犯罪，而致被告壬○○帳戶遭銀行凍結乙情，業據被告壬○○自承在卷（109偵11976卷一第65頁），足認壬○○已知被告甲○○曾涉有隱匿犯罪金額流向之相關犯罪行為，被告壬○○僅憑被告甲○○片面所述，即認以為錢是乾淨的等語，顯難以採信…」</p>\n</div>\n<p><strong>3. 涵攝資料的定義與價值</strong>：</p>\n<p>本系統中的涵攝資料定義為：「<strong>認定或採信特定事實後，詳細說明該事實是否構成法律特定抽象概念的文字說明」。</strong>與心證資料不同的是，涵攝是事實認定或採信後(而並非如心證是討論是否應該採信該事實)，藉由預設的大前提來推導出其他抽象概念(通常可算做法學三段推論最後的結論，見表一)的過程。因此，若認定事實後僅說明構成何者要件，而無穿梭於事實與抽象概念之間的探討過程者，該資料即不屬於涵攝資料。涵攝資料的價值在於記載法院就已被認定的事實說明是否構成某個較抽象概念(如滿足某種構成要件)的過程。</p>\n<p>以下為一個典型的範例：</p>\n<p>士林地院,109,金訴,161</p>\n<div class=\"DF-font\">\n    <p>「…證據能力：一、關於違反組織犯罪防制條例之供述證據部分：按組織犯罪防制條例第12條第1項中段規定：「訊問證人之筆錄，以在檢察官或法官面前作成，並經踐行刑事訴訟法所定訊問證人之程序者為限，始得採為證據」，係以立法排除被告以外之人於警詢或檢察事務官調查中所為之陳述，得適用刑事訴訟法第159條之2、第159條之3及第159條之5之規定，是證人於警詢時之陳述，於違反組織犯罪條例案件，即絕對不具有證據能力，自不得採為判決基礎；而上開組織犯罪防制條例第12條第1項之規定，係排除一般證人於警詢陳述之證據能力之特別規定，然被告於警詢之陳述，對被告本身而言，則不在排除之列（最高法院97年度台上字第1727號、102年度台上字第2653號判決意旨參照）。準此，後述被告以外之人於警詢時之陳述，於被告違反組織犯罪防制條例部分，不具證據能力…」</p>\n</div>\n<figure class=\"table\">\n    <div class=\"responsive-table\">\n        <table>\n        <tbody>\n            <tr>\n                <td style=\"vertical-align:top; width: 19%;min-width: 100px;\" class=\"custom-gray custom-header\">資料類型</td>\n                <td style=\"vertical-align:top; width: 27%;min-width: 150px;\" class=\"custom-pink custom-header \">見解資料</td>\n                <td style=\"vertical-align:top; width: 27%;min-width: 150px;\" class=\"custom-pink custom-header\">心證資料</td>\n                <td style=\"vertical-align:top; width: 27%;min-width: 150px;\" class=\"custom-pink custom-header\">涵攝資料</td>\n            </tr>\n            <tr>\n                <td style=\"vertical-align:top;\" class=\"custom-gray custom-header\">\n                    <p>本系統的定義</p>\n                </td>\n                <td style=\"vertical-align:top;\">闡述與案件有關的法律抽象概念，或釐清二個以上抽象概念之間的關聯性之文字說明</td>\n                <td style=\"vertical-align:top;\">對於具體主張或相關證據的取捨理由，並藉此形成事實認定或採信過程之文字說明</td>\n                <td style=\"vertical-align:top;\">認定或採信特定事實後，詳細說明該事實是否構成法律特定抽象概念的文字說明</td>\n            </tr>\n            <tr>\n                <td style=\"vertical-align:top;\" class=\"custom-gray custom-header\">法學三段推論中的角色</td>\n                <td style=\"vertical-align:top;\">對大前提(抽象規範)的討論</td>\n                <td style=\"vertical-align:top;\">對小前提(具體事實)的認定過程</td>\n                <td style=\"vertical-align:top;\">說明認定的事實是否符合特定概念的理由。</td>\n            </tr>\n            <tr>\n                <td style=\"vertical-align:top;\" class=\"custom-gray custom-header\">\n                    <p>舉例文字</p>\n                    <p>(以刑法第320條第一項竊盜罪為例：意圖為自己或第三人不法之所有，而竊取他人之動產者，為竊盜罪，處五年以下有期徒刑、拘役或五十萬元以下罰金。)</p>\n                </td>\n                <td style=\"vertical-align:top;\">刑法規定竊盜為罪者其目的源自維持社會秩序，並以國家積極的作為來維護個人之財產權。然若因戰爭或其它相類似情形致國家存亡已繫於一線，無力維持社會秩序，迫使人民必須為竊盜行為來安排其生活秩序，雖不具緊急避難條文中的立即緊急性可阻卻犯罪，然其時空環境自與通常時期不同，此時已無期待不可犯罪之可能，刑事實體法未就此部分為區別待遇有違比例原則，應予排除。</td>\n                <td style=\"vertical-align:top;\">\n                    <p>依桃花市光復路段23號監視影像可知，小芳於民國130年1月1日確實從小明口袋中取走魚罐頭，且觀察事件整體過程的影像均未有小芳與小明交涉的過程，雖小芳辯稱有向小明徵求同意，然陳述與前述影像相異，而物證因不具人的思想作用故而證明力較高，小芳所辯不足採納，應認小芳有在不告而取的事實。</p>\n                </td>\n                <td style=\"vertical-align:top;\">\n                    <p>依前述說明可知小芳有不告而取魚罐頭的事實，應已構成竊盜行為。<br><br>然該區域當時無執法人員，且對外交通因戰爭關係全數中斷，國家確實無力維持該時空地點的社會秩序，小芳為繼續生存而為竊取行為應已屬前述說明須予排除的情狀，小芳行為自不構成竊盜罪。</p>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n    </div>\n    \n</figure>\n<p>表一：本系統中的見解、心證與涵攝資料間的比較，對照法學三段推論的不同階段與類似的文字舉例。此處考慮空間的緣故而濃縮舉例文字。附註有判決書中實例文字與其上下文關係供使用者參考。</p>\n<div class=\"intro-title\">四、資料來源與預處理</div>\n<p>本系統的資料均來自司法院公開資訊平台提供的判決書(司法院資料開放平臺網址：<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://opendata.judicial.gov.tw/\">https://opendata.judicial.gov.tw/</a>)。</p>\n<p>由於常見的心證與涵攝都包括相關的事實內容，文字較多集中於同一個段落，所以「<strong>涵攝資料段落」與「心證資料段落」</strong>從判決書理由部份以原始段落「。/n/r」作為分割符號。相較之下，見解文字通常不會包含事實認定或證據內容，因此本系統的「<strong>見解資料段落」</strong>是將判決書理由部份下的內文以句號為分割單位，即起始處到第一個句號為一筆資料，以此類推。</p>\n<p>本研究將上述分割完的資料隨機抽取數百筆，並由具有法學訓練背景的研究者人工方式做2分類的標註，例如，抽取該資料的目的是為製作涵攝資料集時，則各資料若屬於涵攝資料時則標上「是」，若非該資料時則標為「否」。目前人工標註的資料量共有752筆見解、500筆涵攝與500筆心證。</p>\n<div class=\"intro-title\"><strong>五、AI模型訓練與搜尋</strong></div>\n<p>將上述的人工標註資料集送入大型語言模型來作微調(fine-tune)訓練。考慮計算所使用的時間與軟硬體資源，本研究目前是使用開源的生成式AI模型Chatglm2為主，但未來不排除使用其他的大型語言模型作比較與更新。目前評估判斷的準確性達80%以上。</p>\n<p>此處需要注意的是，同一模型僅就一性質的資料進行標註。因此上述三種資料集的定義會由3個不同的模型（見解模型、心證模型、涵攝模型）來對未標註的文本進行上開AI自動標註，也就是分類預測。</p>\n<p>因篇幅的緣故，本系統所使用的AI模型的訓練、微調與測試結果，將另行發表於資工領域的期刊或會議，此處暫時不多說明。未來不排除繼續於此處補充相關資訊。</p>\n<p>&nbsp;</p>\n<p>附註：實際判決書中，見解、心證、涵攝的標註位置說明</p>\n<p>節錄於臺灣臺中地方法院刑事判決112年度訴字第507號判決。<span class=\"custom-green\">綠色螢光底是「心證資料」</span>、<span class=\"custom-orange\">黃色底為「見解資料」</span>，<span class=\"custom-blue\">藍色底為「涵攝資料」</span>，其餘的不預設會被AI識別成任一種類資料則無底色呈現。</p>\n<div class=\"DF-font\">\n    <p>…（一）、觀諸證人甲○○於消防局談話中證稱：被告因為躁鬱症領有重大傷病卡及殘障手冊，需定期服用藥物治療，若未服藥，病情就會發作，情緒會變得易怒、暴躁、毀壞物品。110年12月初，被告開始躲著我，我在家，她就不會在家，當時應該已經發病，我有勸她去看醫生，但她不聽，跑出去躲著我。我最後一次看到被告是000年00月00日下午，當時她的情緒已經很暴躁，我有勸她去看醫生，但她叫我不要說話，我就離開等語（見偵卷第37-39頁），以及○○○○○○○○111年3月1日收案紀錄表記載：被告於108年3月第3次住院出院後，有規則門診，於000年0月間，被告自認症狀已好，便不再規則回診，並開始前往親友家照顧臥床病患，於000年00月間該親友過世，被告返家，同時認識一名香港籍男友，並論及婚嫁，被告母親於視訊時告知其男友被告之疾病，被告因而認為其婚姻遭母親阻擋，大為不滿，之後開始出現情緒高亢、暴躁易怒、話多、不忠妄想、被害妄想、不斷辱罵母親對自己感情勒索、言語霸凌等節（見偵卷第125-127頁）。可知被告與其母甲○○自000年00月間起發生嫌隙，被告開始出現精神疾病症狀，然未定期就醫治療及服藥，同年12月初，被告開始躲著甲○○，並拒絕就醫，足認被告於本案發生前與其母甲○○確有相處不睦之情形。<span class=\"custom-green\">（二）又臺中市政府消防局火災原因調查鑑定書所載：火災調查人員蒐證採樣起火處附近燒損殘餘物，經火災證物鑑定實驗室鑑析，鑑定結果檢出輕質含氧溶劑類易燃液體成分（如乙醇），且本案住宅客廳桌上東北側遺留酒精1瓶等內容（見偵卷第27、23頁），核與現場照片顯示本案住宅客廳起火點附近桌上有1瓶未經受燒之酒精（見偵卷第73頁）乙節相符。由此可見，被告應有在回收紙箱淋上酒精助燃。是辯護人辯護稱被告未使用助燃物乙情，難認屬實，尚無可採。…</span></p>\n    <p>…<span class=\"custom-orange\">按刑法第173條第1項放火燒燬現供人使用之住宅或現有人所在之建築物罪，自係指供人居住之住宅或現有人所在之建築物之整體而言，應包括墻垣及其內所有設備、傢俱等一切物品。故一個放火行為，若同時燒燬住宅、建築物與其內之所有物品，無論該其他物品為他人或自己所有，與同時燒燬數犯罪客體之情形不同，均不另成立刑法第175條第1項或第2項放火燒燬住宅、建築物以外之他人或自己所有物罪（最高法院83年度台上字第2253號判決意旨參照）。又刑法第173條第1項之放火行為，係指已實施點燃引火之媒介物，足以導致目的物之燃燒而言，如已實施放火行為，而未使建築物達到喪失效用之燒燬程度者，即屬放火未遂。</span></p>\n    <p><span class=\"custom-blue\">經查，被告僅有一放火行為，雖同時致本案住宅有前述天花板、牆面、磁磚及其他物品燒損之情形，然未使本案住宅達到喪失效用之燒燬程度，故屬放火未遂，且僅成立刑法第173條第3項、第1項之放火燒燬現供人使用之住宅未遂之單純一罪，不另構成刑法第175條第1項或第2項之放火燒燬住宅、建築物以外之他人或自己所有物罪。是核被告所為，係犯刑法第173條第3項、第1項之放火燒燬現供人使用之住宅未遂罪。</span>公訴意旨認被告亦構成刑法第175條第1項、第2項之罪，並與上開放火燒燬現供人使用之住宅未遂罪間，具有想像競合關係等節，容有誤會，附此說明。…</p>\n</div>\n</div>\n    \n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n    }\n  },\n  computed: {\n    backgroundStyle() {\n      const imagePath = require('@/assets/info_1.jpg');\n      return {\n        backgroundImage: `url(${imagePath})`\n      };\n    }\n  }  \n}\n</script>\n\n<style scoped>\n.DF-font {\n    font-family: \"DFKai-sb\", \"Noto Sans TC\", sans-serif;\n    font-weight: 600;\n}\n.insert-img {\n    width: 600px;\n    height: 356px;\n    background-size: contain;\n    background-repeat: no-repeat;\n    margin: auto;\n}\n.responsive-table {\n    overflow-x: auto; /* Enables horizontal scrolling for smaller devices */\n}\n\n@media (max-width: 768px) {\n    .insert-img {\n        width: 95%;\n        margin: auto;\n    }\n}\n@media (max-width: 525px) {\n    .insert-img {\n        width: 95%;\n        margin: auto;\n        height: calc( 95vw / 1.4)\n    }\n}\n.custom-gray {\n  background-color: #ebdfdf !important;\n}\n.custom-pink {\n  background-color: #fdc7d4 !important;\n}\n.custom-orange {\n  background-color: #f7ec89 !important;\n}\n.custom-green {\n  background-color: #afdb90 !important;\n}\n.custom-blue {\n    background-color: #90c6db !important;\n}\n.custom-header {\n    text-align: center !important;\n    font-weight: 500;\n}\n.table td {\n    min-height: 1rem !important;\n    height: 2.5rem;\n    padding: 10px !important;\n    text-align: justify;\n}\n</style>","import { render } from \"./AboutPage.vue?vue&type=template&id=2a57b846&scoped=true\"\nimport script from \"./AboutPage.vue?vue&type=script&lang=js\"\nexport * from \"./AboutPage.vue?vue&type=script&lang=js\"\n\nimport \"./AboutPage.vue?vue&type=style&index=0&id=2a57b846&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2a57b846\"]])\n\nexport default __exports__","<template>\n<div class=\"container mt-4\">\n    <div class=\"team-section\">\n    <h2 class=\"page-title\">開發團隊</h2>\n    <h3 class=\"intro-title\">資訊技術與資料處理</h3>\n    <ul class=\"team-list\">\n        <li>遲佑成 (清華大學跨院國際博士班學位學程)</li>\n        <li>黃千翔 (清華大學跨院國際博士班學位學程)</li>\n        <li>林雲貂 (清華大學跨院國際博士班學位學程)</li>\n    </ul>\n    </div>\n\n    <div class=\"team-section\">\n    <h3 class=\"intro-title\">網站設計</h3>\n    <ul class=\"team-list\">\n        <li>何捷睿 (清華大學服務科學研究所)</li>\n    </ul>\n    </div>\n\n    <div class=\"team-section\">\n    <h3 class=\"intro-title\">指導教授</h3>\n    <ul class=\"team-list\">\n        <li>連孟琦教授 (國立清華大學科技法律研究所)</li>\n        <li>王道維教授 (國立清華大學物理系/人文社會AI應用與發展研究中心/學務處諮商中心)</li>\n    </ul>\n    </div>\n    <div style=\"height: 50px;\"></div>\n</div>\n\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n    }\n  },\n  computed: {\n   \n  }  \n}\n</script>\n\n<style scoped>\n.team-section {\n    margin: 60px 40px 40px 40px;\n}\n.team-title {\n    font-size: 24px;\n    color: #333;\n    margin-bottom: 10px;\n}\n.team-list {\n    list-style: none;\n    padding: 0;\n}\n.team-list li {\n    margin-bottom: 5px;\n}\n.team-role {\n    font-weight: bold;\n    margin-top: 15px;\n}\n</style>","import { render } from \"./MemberPage.vue?vue&type=template&id=7cfd7209&scoped=true\"\nimport script from \"./MemberPage.vue?vue&type=script&lang=js\"\nexport * from \"./MemberPage.vue?vue&type=script&lang=js\"\n\nimport \"./MemberPage.vue?vue&type=style&index=0&id=7cfd7209&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7cfd7209\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\nimport HomeView from '../views/ChatView.vue'\nimport SearchView from '../views/SearchView.vue'\nimport SearchResult from '../views/SearchResult.vue'\nimport AboutPage from '../views/AboutPage.vue'\nimport MemberPage from '@/views/MemberPage.vue'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: HomeView\n  },\n  {\n    path: '/search',\n    name: 'search',\n    component: SearchView\n  },\n  {\n    path: '/search-result',\n    name: 'search-result',\n    component: SearchResult\n  },\n  {\n    path: '/about',\n    name: 'about-page',\n    component: AboutPage\n  },\n  {\n    path: '/members',\n    name: 'member-page',\n    component: MemberPage\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\nexport default router\n","import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n  },\n  getters: {\n  },\n  mutations: {\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n","import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport \"bootstrap\"\nimport VueDatePicker from '@vuepic/vue-datepicker'\nimport '@vuepic/vue-datepicker/dist/main.css'\n\nimport ElementPlus from 'element-plus'\nimport 'element-plus/dist/index.css'\n\ncreateApp(App).use(store).use(router).use(ElementPlus).component('VueDatePicker', VueDatePicker).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + \"f5822bfe\" + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"ai-annotated-judgment-database:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/ai-annotated-judgment-database/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkai_annotated_judgment_database\"] = self[\"webpackChunkai_annotated_judgment_database\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(6522); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","_createElementVNode","_hoisted_1","style","_normalizeStyle","$options","backgroundStyle","_hoisted_2","_hoisted_3","_normalizeClass","_ctx","$route","path","_createVNode","_component_router_link","to","$data","windowWidth","_createElementBlock","_Fragment","key","_component_router_view","_component_my_footer","name","data","backend","isLoading","errorPrompt","errorCode","props","methods","__exports__","components","myFooter","page_name","window","innerWidth","mounted","this","$nextTick","addEventListener","onResize","beforeUnmount","removeEventListener","computed","imagePath","require","backgroundImage","render","ref","width","height","viewBox","fill","xmlns","d","stroke","_hoisted_6","cx","cy","r","x","y","_hoisted_8","rx","_hoisted_10","_hoisted_30","_hoisted_39","chatWidth","_hoisted_4","_hoisted_5","_component_el_tooltip","content","placement","onClick","_cache","args","restartChat","toggleIntro","downloadChatHistory","_hoisted_12","_hoisted_13","_renderList","conversation","message","index","type","_hoisted_14","innerHTML","formatMessage","options","option_type","_hoisted_16","_hoisted_17","_hoisted_18","buttons","button","value","selected","selectedKeywords","includes","$event","_hoisted_20","_hoisted_21","_toDisplayString","label","customKeyword","placeholder","_hoisted_22","_hoisted_23","confirmKeywords","disabled","length","_hoisted_24","_hoisted_25","isLastBotMessageInSession","_hoisted_26","downloadSession","getSessionIndexByMessage","_hoisted_27","handleOptionClick","loading","_hoisted_28","_hoisted_29","_hoisted_31","_hoisted_32","_hoisted_33","userInput","onKeydown","_withKeys","_withModifiers","sendMessage","rows","trim","_hoisted_37","_hoisted_36","onMousedown","startDrag","_hoisted_38","_hoisted_40","showIntro","currentDataTable","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","getVisibleIndexButtons","currentIndexBtn","btn","btnIdx","scrollToRow","active","minWidth","borderRadius","border","background","color","fontWeight","cursor","outline","boxShadow","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","item","_hoisted_49","_hoisted_50","_hoisted_52","selectedCategory","_hoisted_53","formatTableContent","truncatedStates","href","openContentModal","_hoisted_55","_hoisted_56","showContentModal","closeContentModal","_hoisted_57","modalContent","stripHtmlTags","replace","splitLongText","text","maxLength","chunks","i","push","slice","pdfStyles","header","fontSize","bold","factorTitle","title","margin","date","diagramDescription","alignment","description","normal","user","leAssistant","async","loadFonts","pdfMake","NotoSansTC","createAndOpenChatHistoryPdf","messageHistory","figuresSrc","dataTable","category","predictIndex","findIndex","curMessage","status","reduceMessagesToPdf","prevArr","role","Array","isArray","contentField","tableBody","fillColor","forEach","row","idx","caseNumber","plainCaseNumber","caseUrl","match","rowText","stack","table","headerRows","widths","body","layout","rowIndex","hLineWidth","vLineWidth","hLineColor","vLineColor","startsWith","map","b","join","keywordSummary","cleanText","chunk","Date","toLocaleString","some","m","reduce","parsedMessage","columns","image","figure1Src","figure2Src","columnGap","predictMessages","defaultStyle","font","styles","download","toISOString","split","API_BASE_URL","ElTooltip","sessionId","showCustomInput","currentKeywordsOptions","dragging","dragStartX","dragStartWidth","chatSessions","messages","initializeSession","addWelcomeMessage","onDrag","stopDrag","updated","scrollToBottom","watch","newVal","checkTruncation","response","fetch","method","headers","ok","json","session_id","console","error","welcomeMsg","userMessage","userMsgObj","callChatAPI","errorMsg","JSON","stringify","errorData","Error","detail","reader","getReader","decoder","TextDecoder","buffer","currentMessage","accumulatedContent","reading","isChatEnd","done","read","decode","stream","lines","pop","line","parse","is_chat_end","data_table","e","selectedInput","addCustomKeyword","newKeyword","find","selectAllKeywords","keywordString","marked","container","$refs","conversationContainer","scrollTop","scrollHeight","clientX","document","splitContainer","rect","getBoundingClientRect","percent","left","Math","max","min","allSessions","filter","s","mergedMessages","session","msg","undefined","sessionIdx","messageIdx","count","el","dom","clientHeight","scrollIntoView","behavior","block","total","from","_","result","for","_component_el_row","_component_el_col","lg","md","onSubmit","id","selectAllCourts","onChange","selectAllChanged","_hoisted_7","selectSupremeCourts","selectSupremeCourtsChanged","_hoisted_9","selectDistrictCourts","selectDistrictCourtsChanged","_hoisted_11","multiple","selectedCourts","courtTypeOptions","_hoisted_15","selectedDateRange","year","getSelectableYears","parseInt","defaultDateRange","_hoisted_19","month","formData","searchFields","field","query","example","_hoisted_35","advanceSearch","civilFormData","court_type","refereeDate","required","allCourtValues","supremeCourtValues","districtCourtValues","showModal","isSelectedAllCourts","initializeCourt","initializeForm","handler","newValue","fromYear","fromMonth","toYear","toMonth","ElMessage","deep","includesAll","newFields","localStorage","setItem","created","storedFields","getItem","civilStoredFields","clearLocalStorage","removeItem","formatPart","String","padStart","getLastDayOfMonth","lastDayCurrentMonth","getDate","dateFormat","lastDate","arr","values","every","v","option","updateSelection","isSelected","courtValues","Set","log","queryParams","allFieldsValid","$message","jud_date","jud_type","$router","colspan","jud_name","conditionInfo","info","getConditionInfo","_component_el_input","advancedKeyword","size","clearable","onClear","performAdvancedSearch","onKeyup","_component_el_radio_group","prediction_name","pred_options","pred","_createBlock","_component_el_radio","resultCount","_component_el_icon","_component_Loading","checkQueryEnable","searchResults","prediction_type","sortedSearchResults","getColumnWidth","group","jud_url","target","case_num","formatDate","openGroupDialog","group_length","maxTextLength","openDialog","addHighlighter","substr","_component_el_dialog","isGroupDialogVisible","otherSearchFields","selectedGroup","groupItem","groupIndex","dialogVisible","handleClose","dialogText","Loading","fee","sub","opinion","mode","params","case_type","basic_info","syllabus","other_opinion","pageDetail","page","next_page_url","previous_page_url","total_pages","highAdvancedKeyword","initParams","fetchAllData","newName","selectedOption","updateConditionInfo","meta","flattenObject","obj","recurse","cur","prop","containsKeyword","matchedResults","handlePageSize","handlePageChange","dateStr","substring","day","minguoYear","convertDateString","input","startDate","endDate","formattedStartDate","formattedEndDate","searchCourts","simplifyCourts","unshift","fieldName","rawData","keywords","advanced_keyword","condition","warn","keyword","removeEmptyStringValues","Object","keys","urlParams","URLSearchParams","location","search","search_method","get","prediction","fetchDataForType","query_type","api_url","cacheKey","toString","cachedData","expiry","now","getCountByName","axios","apiResponse","oneDayInMs","predictionTypes","Promise","all","summary","entry","jud_count","condition_info","available","routes","component","HomeView","SearchView","SearchResult","AboutPage","MemberPage","router","createRouter","history","createWebHistory","process","createStore","state","getters","mutations","actions","modules","createApp","App","use","store","ElementPlus","VueDatePicker","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","splice","n","getter","__esModule","a","leafPrototypes","getProto","getPrototypeOf","__proto__","t","then","ns","create","def","current","indexOf","getOwnPropertyNames","definition","o","defineProperty","enumerable","f","chunkId","promises","u","miniCssF","g","globalThis","Function","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","url","script","needAttach","scripts","getElementsByTagName","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","setTimeout","bind","head","appendChild","Symbol","toStringTag","p","installedChunks","installedChunkData","promise","resolve","reject","loadingEnded","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}